/* esm.sh - cytoscape-fcose@2.2.0 */
var me=Object.create;var ye=Object.defineProperty;var Le=Object.getOwnPropertyDescriptor;var Me=Object.getOwnPropertyNames;var Ce=Object.getPrototypeOf,Ae=Object.prototype.hasOwnProperty;var oe=(B,rt)=>()=>(rt||B((rt={exports:{}}).exports,rt),rt.exports);var Oe=(B,rt,C,y)=>{if(rt&&typeof rt=="object"||typeof rt=="function")for(let l of Me(rt))!Ae.call(B,l)&&l!==C&&ye(B,l,{get:()=>rt[l],enumerable:!(y=Le(rt,l))||y.enumerable});return B};var De=(B,rt,C)=>(C=B!=null?me(Ce(B)):{},Oe(rt||!B||!B.__esModule?ye(C,"default",{value:B,enumerable:!0}):C,B));var he=oe((jt,se)=>{(function(rt,C){typeof jt=="object"&&typeof se=="object"?se.exports=C():typeof define=="function"&&define.amd?define([],C):typeof jt=="object"?jt.layoutBase=C():rt.layoutBase=C()})(jt,function(){return(function(B){var rt={};function C(y){if(rt[y])return rt[y].exports;var l=rt[y]={i:y,l:!1,exports:{}};return B[y].call(l.exports,l,l.exports,C),l.l=!0,l.exports}return C.m=B,C.c=rt,C.i=function(y){return y},C.d=function(y,l,o){C.o(y,l)||Object.defineProperty(y,l,{configurable:!1,enumerable:!0,get:o})},C.n=function(y){var l=y&&y.__esModule?function(){return y.default}:function(){return y};return C.d(l,"a",l),l},C.o=function(y,l){return Object.prototype.hasOwnProperty.call(y,l)},C.p="",C(C.s=28)})([(function(B,rt,C){"use strict";function y(){}y.QUALITY=1,y.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,y.DEFAULT_INCREMENTAL=!1,y.DEFAULT_ANIMATION_ON_LAYOUT=!0,y.DEFAULT_ANIMATION_DURING_LAYOUT=!1,y.DEFAULT_ANIMATION_PERIOD=50,y.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,y.DEFAULT_GRAPH_MARGIN=15,y.NODE_DIMENSIONS_INCLUDE_LABELS=!1,y.SIMPLE_NODE_SIZE=40,y.SIMPLE_NODE_HALF_SIZE=y.SIMPLE_NODE_SIZE/2,y.EMPTY_COMPOUND_NODE_SIZE=40,y.MIN_EDGE_LENGTH=1,y.WORLD_BOUNDARY=1e6,y.INITIAL_WORLD_BOUNDARY=y.WORLD_BOUNDARY/1e3,y.WORLD_CENTER_X=1200,y.WORLD_CENTER_Y=900,B.exports=y}),(function(B,rt,C){"use strict";var y=C(2),l=C(8),o=C(9);function e(g,i,E){y.call(this,E),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=E,this.bendpoints=[],this.source=g,this.target=i}e.prototype=Object.create(y.prototype);for(var n in y)e[n]=y[n];e.prototype.getSource=function(){return this.source},e.prototype.getTarget=function(){return this.target},e.prototype.isInterGraph=function(){return this.isInterGraph},e.prototype.getLength=function(){return this.length},e.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},e.prototype.getBendpoints=function(){return this.bendpoints},e.prototype.getLca=function(){return this.lca},e.prototype.getSourceInLca=function(){return this.sourceInLca},e.prototype.getTargetInLca=function(){return this.targetInLca},e.prototype.getOtherEnd=function(g){if(this.source===g)return this.target;if(this.target===g)return this.source;throw"Node is not incident with this edge"},e.prototype.getOtherEndInGraph=function(g,i){for(var E=this.getOtherEnd(g),r=i.getGraphManager().getRoot();;){if(E.getOwner()==i)return E;if(E.getOwner()==r)break;E=E.getOwner().getParent()}return null},e.prototype.updateLength=function(){var g=new Array(4);this.isOverlapingSourceAndTarget=l.getIntersection(this.target.getRect(),this.source.getRect(),g),this.isOverlapingSourceAndTarget||(this.lengthX=g[0]-g[2],this.lengthY=g[1]-g[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},e.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},B.exports=e}),(function(B,rt,C){"use strict";function y(l){this.vGraphObject=l}B.exports=y}),(function(B,rt,C){"use strict";var y=C(2),l=C(10),o=C(13),e=C(0),n=C(16),g=C(5);function i(r,t,h,c){h==null&&c==null&&(c=t),y.call(this,c),r.graphManager!=null&&(r=r.graphManager),this.estimatedSize=l.MIN_VALUE,this.inclusionTreeDepth=l.MAX_VALUE,this.vGraphObject=c,this.edges=[],this.graphManager=r,h!=null&&t!=null?this.rect=new o(t.x,t.y,h.width,h.height):this.rect=new o}i.prototype=Object.create(y.prototype);for(var E in y)i[E]=y[E];i.prototype.getEdges=function(){return this.edges},i.prototype.getChild=function(){return this.child},i.prototype.getOwner=function(){return this.owner},i.prototype.getWidth=function(){return this.rect.width},i.prototype.setWidth=function(r){this.rect.width=r},i.prototype.getHeight=function(){return this.rect.height},i.prototype.setHeight=function(r){this.rect.height=r},i.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},i.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},i.prototype.getCenter=function(){return new g(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},i.prototype.getLocation=function(){return new g(this.rect.x,this.rect.y)},i.prototype.getRect=function(){return this.rect},i.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},i.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},i.prototype.setRect=function(r,t){this.rect.x=r.x,this.rect.y=r.y,this.rect.width=t.width,this.rect.height=t.height},i.prototype.setCenter=function(r,t){this.rect.x=r-this.rect.width/2,this.rect.y=t-this.rect.height/2},i.prototype.setLocation=function(r,t){this.rect.x=r,this.rect.y=t},i.prototype.moveBy=function(r,t){this.rect.x+=r,this.rect.y+=t},i.prototype.getEdgeListToNode=function(r){var t=[],h,c=this;return c.edges.forEach(function(s){if(s.target==r){if(s.source!=c)throw"Incorrect edge source!";t.push(s)}}),t},i.prototype.getEdgesBetween=function(r){var t=[],h,c=this;return c.edges.forEach(function(s){if(!(s.source==c||s.target==c))throw"Incorrect edge source and/or target";(s.target==r||s.source==r)&&t.push(s)}),t},i.prototype.getNeighborsList=function(){var r=new Set,t=this;return t.edges.forEach(function(h){if(h.source==t)r.add(h.target);else{if(h.target!=t)throw"Incorrect incidency!";r.add(h.source)}}),r},i.prototype.withChildren=function(){var r=new Set,t,h;if(r.add(this),this.child!=null)for(var c=this.child.getNodes(),s=0;s<c.length;s++)t=c[s],h=t.withChildren(),h.forEach(function(N){r.add(N)});return r},i.prototype.getNoOfChildren=function(){var r=0,t;if(this.child==null)r=1;else for(var h=this.child.getNodes(),c=0;c<h.length;c++)t=h[c],r+=t.getNoOfChildren();return r==0&&(r=1),r},i.prototype.getEstimatedSize=function(){if(this.estimatedSize==l.MIN_VALUE)throw"assert failed";return this.estimatedSize},i.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},i.prototype.scatter=function(){var r,t,h=-e.INITIAL_WORLD_BOUNDARY,c=e.INITIAL_WORLD_BOUNDARY;r=e.WORLD_CENTER_X+n.nextDouble()*(c-h)+h;var s=-e.INITIAL_WORLD_BOUNDARY,N=e.INITIAL_WORLD_BOUNDARY;t=e.WORLD_CENTER_Y+n.nextDouble()*(N-s)+s,this.rect.x=r,this.rect.y=t},i.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var r=this.getChild();if(r.updateBounds(!0),this.rect.x=r.getLeft(),this.rect.y=r.getTop(),this.setWidth(r.getRight()-r.getLeft()),this.setHeight(r.getBottom()-r.getTop()),e.NODE_DIMENSIONS_INCLUDE_LABELS){var t=r.getRight()-r.getLeft(),h=r.getBottom()-r.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(t+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>t?(this.rect.x-=(this.labelWidth-t)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(t+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(h+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>h?(this.rect.y-=(this.labelHeight-h)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(h+this.labelHeight))}}},i.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==l.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},i.prototype.transform=function(r){var t=this.rect.x;t>e.WORLD_BOUNDARY?t=e.WORLD_BOUNDARY:t<-e.WORLD_BOUNDARY&&(t=-e.WORLD_BOUNDARY);var h=this.rect.y;h>e.WORLD_BOUNDARY?h=e.WORLD_BOUNDARY:h<-e.WORLD_BOUNDARY&&(h=-e.WORLD_BOUNDARY);var c=new g(t,h),s=r.inverseTransformPoint(c);this.setLocation(s.x,s.y)},i.prototype.getLeft=function(){return this.rect.x},i.prototype.getRight=function(){return this.rect.x+this.rect.width},i.prototype.getTop=function(){return this.rect.y},i.prototype.getBottom=function(){return this.rect.y+this.rect.height},i.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},B.exports=i}),(function(B,rt,C){"use strict";var y=C(0);function l(){}for(var o in y)l[o]=y[o];l.MAX_ITERATIONS=2500,l.DEFAULT_EDGE_LENGTH=50,l.DEFAULT_SPRING_STRENGTH=.45,l.DEFAULT_REPULSION_STRENGTH=4500,l.DEFAULT_GRAVITY_STRENGTH=.4,l.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,l.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,l.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,l.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,l.COOLING_ADAPTATION_FACTOR=.33,l.ADAPTATION_LOWER_NODE_LIMIT=1e3,l.ADAPTATION_UPPER_NODE_LIMIT=5e3,l.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,l.MAX_NODE_DISPLACEMENT=l.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,l.MIN_REPULSION_DIST=l.DEFAULT_EDGE_LENGTH/10,l.CONVERGENCE_CHECK_PERIOD=100,l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,l.MIN_EDGE_LENGTH=1,l.GRID_CALCULATION_CHECK_PERIOD=10,B.exports=l}),(function(B,rt,C){"use strict";function y(l,o){l==null&&o==null?(this.x=0,this.y=0):(this.x=l,this.y=o)}y.prototype.getX=function(){return this.x},y.prototype.getY=function(){return this.y},y.prototype.setX=function(l){this.x=l},y.prototype.setY=function(l){this.y=l},y.prototype.getDifference=function(l){return new DimensionD(this.x-l.x,this.y-l.y)},y.prototype.getCopy=function(){return new y(this.x,this.y)},y.prototype.translate=function(l){return this.x+=l.width,this.y+=l.height,this},B.exports=y}),(function(B,rt,C){"use strict";var y=C(2),l=C(10),o=C(0),e=C(7),n=C(3),g=C(1),i=C(13),E=C(12),r=C(11);function t(c,s,N){y.call(this,N),this.estimatedSize=l.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=c,s!=null&&s instanceof e?this.graphManager=s:s!=null&&s instanceof Layout&&(this.graphManager=s.graphManager)}t.prototype=Object.create(y.prototype);for(var h in y)t[h]=y[h];t.prototype.getNodes=function(){return this.nodes},t.prototype.getEdges=function(){return this.edges},t.prototype.getGraphManager=function(){return this.graphManager},t.prototype.getParent=function(){return this.parent},t.prototype.getLeft=function(){return this.left},t.prototype.getRight=function(){return this.right},t.prototype.getTop=function(){return this.top},t.prototype.getBottom=function(){return this.bottom},t.prototype.isConnected=function(){return this.isConnected},t.prototype.add=function(c,s,N){if(s==null&&N==null){var v=c;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(v)>-1)throw"Node already in graph!";return v.owner=this,this.getNodes().push(v),v}else{var d=c;if(!(this.getNodes().indexOf(s)>-1&&this.getNodes().indexOf(N)>-1))throw"Source or target not in graph!";if(!(s.owner==N.owner&&s.owner==this))throw"Both owners must be this graph!";return s.owner!=N.owner?null:(d.source=s,d.target=N,d.isInterGraph=!1,this.getEdges().push(d),s.edges.push(d),N!=s&&N.edges.push(d),d)}},t.prototype.remove=function(c){var s=c;if(c instanceof n){if(s==null)throw"Node is null!";if(!(s.owner!=null&&s.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var N=s.edges.slice(),v,d=N.length,m=0;m<d;m++)v=N[m],v.isInterGraph?this.graphManager.remove(v):v.source.owner.remove(v);var G=this.nodes.indexOf(s);if(G==-1)throw"Node not in owner node list!";this.nodes.splice(G,1)}else if(c instanceof g){var v=c;if(v==null)throw"Edge is null!";if(!(v.source!=null&&v.target!=null))throw"Source and/or target is null!";if(!(v.source.owner!=null&&v.target.owner!=null&&v.source.owner==this&&v.target.owner==this))throw"Source and/or target owner is invalid!";var L=v.source.edges.indexOf(v),b=v.target.edges.indexOf(v);if(!(L>-1&&b>-1))throw"Source and/or target doesn't know this edge!";v.source.edges.splice(L,1),v.target!=v.source&&v.target.edges.splice(b,1);var G=v.source.owner.getEdges().indexOf(v);if(G==-1)throw"Not in owner's edge list!";v.source.owner.getEdges().splice(G,1)}},t.prototype.updateLeftTop=function(){for(var c=l.MAX_VALUE,s=l.MAX_VALUE,N,v,d,m=this.getNodes(),G=m.length,L=0;L<G;L++){var b=m[L];N=b.getTop(),v=b.getLeft(),c>N&&(c=N),s>v&&(s=v)}return c==l.MAX_VALUE?null:(m[0].getParent().paddingLeft!=null?d=m[0].getParent().paddingLeft:d=this.margin,this.left=s-d,this.top=c-d,new E(this.left,this.top))},t.prototype.updateBounds=function(c){for(var s=l.MAX_VALUE,N=-l.MAX_VALUE,v=l.MAX_VALUE,d=-l.MAX_VALUE,m,G,L,b,$,V=this.nodes,it=V.length,w=0;w<it;w++){var k=V[w];c&&k.child!=null&&k.updateBounds(),m=k.getLeft(),G=k.getRight(),L=k.getTop(),b=k.getBottom(),s>m&&(s=m),N<G&&(N=G),v>L&&(v=L),d<b&&(d=b)}var a=new i(s,v,N-s,d-v);s==l.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),V[0].getParent().paddingLeft!=null?$=V[0].getParent().paddingLeft:$=this.margin,this.left=a.x-$,this.right=a.x+a.width+$,this.top=a.y-$,this.bottom=a.y+a.height+$},t.calculateBounds=function(c){for(var s=l.MAX_VALUE,N=-l.MAX_VALUE,v=l.MAX_VALUE,d=-l.MAX_VALUE,m,G,L,b,$=c.length,V=0;V<$;V++){var it=c[V];m=it.getLeft(),G=it.getRight(),L=it.getTop(),b=it.getBottom(),s>m&&(s=m),N<G&&(N=G),v>L&&(v=L),d<b&&(d=b)}var w=new i(s,v,N-s,d-v);return w},t.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},t.prototype.getEstimatedSize=function(){if(this.estimatedSize==l.MIN_VALUE)throw"assert failed";return this.estimatedSize},t.prototype.calcEstimatedSize=function(){for(var c=0,s=this.nodes,N=s.length,v=0;v<N;v++){var d=s[v];c+=d.calcEstimatedSize()}return c==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=c/Math.sqrt(this.nodes.length),this.estimatedSize},t.prototype.updateConnected=function(){var c=this;if(this.nodes.length==0){this.isConnected=!0;return}var s=new r,N=new Set,v=this.nodes[0],d,m,G=v.withChildren();for(G.forEach(function(w){s.push(w),N.add(w)});s.length!==0;){v=s.shift(),d=v.getEdges();for(var L=d.length,b=0;b<L;b++){var $=d[b];if(m=$.getOtherEndInGraph(v,this),m!=null&&!N.has(m)){var V=m.withChildren();V.forEach(function(w){s.push(w),N.add(w)})}}}if(this.isConnected=!1,N.size>=this.nodes.length){var it=0;N.forEach(function(w){w.owner==c&&it++}),it==this.nodes.length&&(this.isConnected=!0)}},B.exports=t}),(function(B,rt,C){"use strict";var y,l=C(1);function o(e){y=C(6),this.layout=e,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var e=this.layout.newGraph(),n=this.layout.newNode(null),g=this.add(e,n);return this.setRootGraph(g),this.rootGraph},o.prototype.add=function(e,n,g,i,E){if(g==null&&i==null&&E==null){if(e==null)throw"Graph is null!";if(n==null)throw"Parent node is null!";if(this.graphs.indexOf(e)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(e),e.parent!=null)throw"Already has a parent!";if(n.child!=null)throw"Already has a child!";return e.parent=n,n.child=e,e}else{E=g,i=n,g=e;var r=i.getOwner(),t=E.getOwner();if(!(r!=null&&r.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(t!=null&&t.getGraphManager()==this))throw"Target not in this graph mgr!";if(r==t)return g.isInterGraph=!1,r.add(g,i,E);if(g.isInterGraph=!0,g.source=i,g.target=E,this.edges.indexOf(g)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(g),!(g.source!=null&&g.target!=null))throw"Edge source and/or target is null!";if(!(g.source.edges.indexOf(g)==-1&&g.target.edges.indexOf(g)==-1))throw"Edge already in source and/or target incidency list!";return g.source.edges.push(g),g.target.edges.push(g),g}},o.prototype.remove=function(e){if(e instanceof y){var n=e;if(n.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(n==this.rootGraph||n.parent!=null&&n.parent.graphManager==this))throw"Invalid parent node!";var g=[];g=g.concat(n.getEdges());for(var i,E=g.length,r=0;r<E;r++)i=g[r],n.remove(i);var t=[];t=t.concat(n.getNodes());var h;E=t.length;for(var r=0;r<E;r++)h=t[r],n.remove(h);n==this.rootGraph&&this.setRootGraph(null);var c=this.graphs.indexOf(n);this.graphs.splice(c,1),n.parent=null}else if(e instanceof l){if(i=e,i==null)throw"Edge is null!";if(!i.isInterGraph)throw"Not an inter-graph edge!";if(!(i.source!=null&&i.target!=null))throw"Source and/or target is null!";if(!(i.source.edges.indexOf(i)!=-1&&i.target.edges.indexOf(i)!=-1))throw"Source and/or target doesn't know this edge!";var c=i.source.edges.indexOf(i);if(i.source.edges.splice(c,1),c=i.target.edges.indexOf(i),i.target.edges.splice(c,1),!(i.source.owner!=null&&i.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(i.source.owner.getGraphManager().edges.indexOf(i)==-1)throw"Not in owner graph manager's edge list!";var c=i.source.owner.getGraphManager().edges.indexOf(i);i.source.owner.getGraphManager().edges.splice(c,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var e=[],n=this.getGraphs(),g=n.length,i=0;i<g;i++)e=e.concat(n[i].getNodes());this.allNodes=e}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){for(var e=[],n=this.getGraphs(),g=n.length,i=0;i<n.length;i++)e=e.concat(n[i].getEdges());e=e.concat(this.edges),this.allEdges=e}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(e){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=e},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(e){if(e.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=e,e.parent==null&&(e.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(e,n){if(!(e!=null&&n!=null))throw"assert failed";if(e==n)return!0;var g=e.getOwner(),i;do{if(i=g.getParent(),i==null)break;if(i==n)return!0;if(g=i.getOwner(),g==null)break}while(!0);g=n.getOwner();do{if(i=g.getParent(),i==null)break;if(i==e)return!0;if(g=i.getOwner(),g==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var e,n,g,i,E,r=this.getAllEdges(),t=r.length,h=0;h<t;h++){if(e=r[h],n=e.source,g=e.target,e.lca=null,e.sourceInLca=n,e.targetInLca=g,n==g){e.lca=n.getOwner();continue}for(i=n.getOwner();e.lca==null;){for(e.targetInLca=g,E=g.getOwner();e.lca==null;){if(E==i){e.lca=E;break}if(E==this.rootGraph)break;if(e.lca!=null)throw"assert failed";e.targetInLca=E.getParent(),E=e.targetInLca.getOwner()}if(i==this.rootGraph)break;e.lca==null&&(e.sourceInLca=i.getParent(),i=e.sourceInLca.getOwner())}if(e.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(e,n){if(e==n)return e.getOwner();var g=e.getOwner();do{if(g==null)break;var i=n.getOwner();do{if(i==null)break;if(i==g)return i;i=i.getParent().getOwner()}while(!0);g=g.getParent().getOwner()}while(!0);return g},o.prototype.calcInclusionTreeDepths=function(e,n){e==null&&n==null&&(e=this.rootGraph,n=1);for(var g,i=e.getNodes(),E=i.length,r=0;r<E;r++)g=i[r],g.inclusionTreeDepth=n,g.child!=null&&this.calcInclusionTreeDepths(g.child,n+1)},o.prototype.includesInvalidEdge=function(){for(var e,n=[],g=this.edges.length,i=0;i<g;i++)e=this.edges[i],this.isOneAncestorOfOther(e.source,e.target)&&n.push(e);for(var i=0;i<n.length;i++)this.remove(n[i]);return!1},B.exports=o}),(function(B,rt,C){"use strict";var y=C(12);function l(){}l.calcSeparationAmount=function(o,e,n,g){if(!o.intersects(e))throw"assert failed";var i=new Array(2);this.decideDirectionsForOverlappingNodes(o,e,i),n[0]=Math.min(o.getRight(),e.getRight())-Math.max(o.x,e.x),n[1]=Math.min(o.getBottom(),e.getBottom())-Math.max(o.y,e.y),o.getX()<=e.getX()&&o.getRight()>=e.getRight()?n[0]+=Math.min(e.getX()-o.getX(),o.getRight()-e.getRight()):e.getX()<=o.getX()&&e.getRight()>=o.getRight()&&(n[0]+=Math.min(o.getX()-e.getX(),e.getRight()-o.getRight())),o.getY()<=e.getY()&&o.getBottom()>=e.getBottom()?n[1]+=Math.min(e.getY()-o.getY(),o.getBottom()-e.getBottom()):e.getY()<=o.getY()&&e.getBottom()>=o.getBottom()&&(n[1]+=Math.min(o.getY()-e.getY(),e.getBottom()-o.getBottom()));var E=Math.abs((e.getCenterY()-o.getCenterY())/(e.getCenterX()-o.getCenterX()));e.getCenterY()===o.getCenterY()&&e.getCenterX()===o.getCenterX()&&(E=1);var r=E*n[0],t=n[1]/E;n[0]<t?t=n[0]:r=n[1],n[0]=-1*i[0]*(t/2+g),n[1]=-1*i[1]*(r/2+g)},l.decideDirectionsForOverlappingNodes=function(o,e,n){o.getCenterX()<e.getCenterX()?n[0]=-1:n[0]=1,o.getCenterY()<e.getCenterY()?n[1]=-1:n[1]=1},l.getIntersection2=function(o,e,n){var g=o.getCenterX(),i=o.getCenterY(),E=e.getCenterX(),r=e.getCenterY();if(o.intersects(e))return n[0]=g,n[1]=i,n[2]=E,n[3]=r,!0;var t=o.getX(),h=o.getY(),c=o.getRight(),s=o.getX(),N=o.getBottom(),v=o.getRight(),d=o.getWidthHalf(),m=o.getHeightHalf(),G=e.getX(),L=e.getY(),b=e.getRight(),$=e.getX(),V=e.getBottom(),it=e.getRight(),w=e.getWidthHalf(),k=e.getHeightHalf(),a=!1,p=!1;if(g===E){if(i>r)return n[0]=g,n[1]=h,n[2]=E,n[3]=V,!1;if(i<r)return n[0]=g,n[1]=N,n[2]=E,n[3]=L,!1}else if(i===r){if(g>E)return n[0]=t,n[1]=i,n[2]=b,n[3]=r,!1;if(g<E)return n[0]=c,n[1]=i,n[2]=G,n[3]=r,!1}else{var u=o.height/o.width,T=e.height/e.width,f=(r-i)/(E-g),O=void 0,A=void 0,x=void 0,I=void 0,D=void 0,z=void 0;if(-u===f?g>E?(n[0]=s,n[1]=N,a=!0):(n[0]=c,n[1]=h,a=!0):u===f&&(g>E?(n[0]=t,n[1]=h,a=!0):(n[0]=v,n[1]=N,a=!0)),-T===f?E>g?(n[2]=$,n[3]=V,p=!0):(n[2]=b,n[3]=L,p=!0):T===f&&(E>g?(n[2]=G,n[3]=L,p=!0):(n[2]=it,n[3]=V,p=!0)),a&&p)return!1;if(g>E?i>r?(O=this.getCardinalDirection(u,f,4),A=this.getCardinalDirection(T,f,2)):(O=this.getCardinalDirection(-u,f,3),A=this.getCardinalDirection(-T,f,1)):i>r?(O=this.getCardinalDirection(-u,f,1),A=this.getCardinalDirection(-T,f,3)):(O=this.getCardinalDirection(u,f,2),A=this.getCardinalDirection(T,f,4)),!a)switch(O){case 1:I=h,x=g+-m/f,n[0]=x,n[1]=I;break;case 2:x=v,I=i+d*f,n[0]=x,n[1]=I;break;case 3:I=N,x=g+m/f,n[0]=x,n[1]=I;break;case 4:x=s,I=i+-d*f,n[0]=x,n[1]=I;break}if(!p)switch(A){case 1:z=L,D=E+-k/f,n[2]=D,n[3]=z;break;case 2:D=it,z=r+w*f,n[2]=D,n[3]=z;break;case 3:z=V,D=E+k/f,n[2]=D,n[3]=z;break;case 4:D=$,z=r+-w*f,n[2]=D,n[3]=z;break}}return!1},l.getCardinalDirection=function(o,e,n){return o>e?n:1+n%4},l.getIntersection=function(o,e,n,g){if(g==null)return this.getIntersection2(o,e,n);var i=o.x,E=o.y,r=e.x,t=e.y,h=n.x,c=n.y,s=g.x,N=g.y,v=void 0,d=void 0,m=void 0,G=void 0,L=void 0,b=void 0,$=void 0,V=void 0,it=void 0;return m=t-E,L=i-r,$=r*E-i*t,G=N-c,b=h-s,V=s*c-h*N,it=m*b-G*L,it===0?null:(v=(L*V-b*$)/it,d=(G*$-m*V)/it,new y(v,d))},l.angleOfVector=function(o,e,n,g){var i=void 0;return o!==n?(i=Math.atan((g-e)/(n-o)),n<o?i+=Math.PI:g<e&&(i+=this.TWO_PI)):g<e?i=this.ONE_AND_HALF_PI:i=this.HALF_PI,i},l.doIntersect=function(o,e,n,g){var i=o.x,E=o.y,r=e.x,t=e.y,h=n.x,c=n.y,s=g.x,N=g.y,v=(r-i)*(N-c)-(s-h)*(t-E);if(v===0)return!1;var d=((N-c)*(s-i)+(h-s)*(N-E))/v,m=((E-t)*(s-i)+(r-i)*(N-E))/v;return 0<d&&d<1&&0<m&&m<1},l.findCircleLineIntersections=function(o,e,n,g,i,E,r){var t=(n-o)*(n-o)+(g-e)*(g-e),h=2*((o-i)*(n-o)+(e-E)*(g-e)),c=(o-i)*(o-i)+(e-E)*(e-E)-r*r,s=h*h-4*t*c;if(s>=0){var N=(-h+Math.sqrt(h*h-4*t*c))/(2*t),v=(-h-Math.sqrt(h*h-4*t*c))/(2*t),d=null;return N>=0&&N<=1?[N]:v>=0&&v<=1?[v]:d}else return null},l.HALF_PI=.5*Math.PI,l.ONE_AND_HALF_PI=1.5*Math.PI,l.TWO_PI=2*Math.PI,l.THREE_PI=3*Math.PI,B.exports=l}),(function(B,rt,C){"use strict";function y(){}y.sign=function(l){return l>0?1:l<0?-1:0},y.floor=function(l){return l<0?Math.ceil(l):Math.floor(l)},y.ceil=function(l){return l<0?Math.floor(l):Math.ceil(l)},B.exports=y}),(function(B,rt,C){"use strict";function y(){}y.MAX_VALUE=2147483647,y.MIN_VALUE=-2147483648,B.exports=y}),(function(B,rt,C){"use strict";var y=(function(){function i(E,r){for(var t=0;t<r.length;t++){var h=r[t];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(E,h.key,h)}}return function(E,r,t){return r&&i(E.prototype,r),t&&i(E,t),E}})();function l(i,E){if(!(i instanceof E))throw new TypeError("Cannot call a class as a function")}var o=function(E){return{value:E,next:null,prev:null}},e=function(E,r,t,h){return E!==null?E.next=r:h.head=r,t!==null?t.prev=r:h.tail=r,r.prev=E,r.next=t,h.length++,r},n=function(E,r){var t=E.prev,h=E.next;return t!==null?t.next=h:r.head=h,h!==null?h.prev=t:r.tail=t,E.prev=E.next=null,r.length--,E},g=(function(){function i(E){var r=this;l(this,i),this.length=0,this.head=null,this.tail=null,E?.forEach(function(t){return r.push(t)})}return y(i,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(r,t){return e(t.prev,o(r),t,this)}},{key:"insertAfter",value:function(r,t){return e(t,o(r),t.next,this)}},{key:"insertNodeBefore",value:function(r,t){return e(t.prev,r,t,this)}},{key:"insertNodeAfter",value:function(r,t){return e(t,r,t.next,this)}},{key:"push",value:function(r){return e(this.tail,o(r),null,this)}},{key:"unshift",value:function(r){return e(null,o(r),this.head,this)}},{key:"remove",value:function(r){return n(r,this)}},{key:"pop",value:function(){return n(this.tail,this).value}},{key:"popNode",value:function(){return n(this.tail,this)}},{key:"shift",value:function(){return n(this.head,this).value}},{key:"shiftNode",value:function(){return n(this.head,this)}},{key:"get_object_at",value:function(r){if(r<=this.length()){for(var t=1,h=this.head;t<r;)h=h.next,t++;return h.value}}},{key:"set_object_at",value:function(r,t){if(r<=this.length()){for(var h=1,c=this.head;h<r;)c=c.next,h++;c.value=t}}}]),i})();B.exports=g}),(function(B,rt,C){"use strict";function y(l,o,e){this.x=null,this.y=null,l==null&&o==null&&e==null?(this.x=0,this.y=0):typeof l=="number"&&typeof o=="number"&&e==null?(this.x=l,this.y=o):l.constructor.name=="Point"&&o==null&&e==null&&(e=l,this.x=e.x,this.y=e.y)}y.prototype.getX=function(){return this.x},y.prototype.getY=function(){return this.y},y.prototype.getLocation=function(){return new y(this.x,this.y)},y.prototype.setLocation=function(l,o,e){l.constructor.name=="Point"&&o==null&&e==null?(e=l,this.setLocation(e.x,e.y)):typeof l=="number"&&typeof o=="number"&&e==null&&(parseInt(l)==l&&parseInt(o)==o?this.move(l,o):(this.x=Math.floor(l+.5),this.y=Math.floor(o+.5)))},y.prototype.move=function(l,o){this.x=l,this.y=o},y.prototype.translate=function(l,o){this.x+=l,this.y+=o},y.prototype.equals=function(l){if(l.constructor.name=="Point"){var o=l;return this.x==o.x&&this.y==o.y}return this==l},y.prototype.toString=function(){return new y().constructor.name+"[x="+this.x+",y="+this.y+"]"},B.exports=y}),(function(B,rt,C){"use strict";function y(l,o,e,n){this.x=0,this.y=0,this.width=0,this.height=0,l!=null&&o!=null&&e!=null&&n!=null&&(this.x=l,this.y=o,this.width=e,this.height=n)}y.prototype.getX=function(){return this.x},y.prototype.setX=function(l){this.x=l},y.prototype.getY=function(){return this.y},y.prototype.setY=function(l){this.y=l},y.prototype.getWidth=function(){return this.width},y.prototype.setWidth=function(l){this.width=l},y.prototype.getHeight=function(){return this.height},y.prototype.setHeight=function(l){this.height=l},y.prototype.getRight=function(){return this.x+this.width},y.prototype.getBottom=function(){return this.y+this.height},y.prototype.intersects=function(l){return!(this.getRight()<l.x||this.getBottom()<l.y||l.getRight()<this.x||l.getBottom()<this.y)},y.prototype.getCenterX=function(){return this.x+this.width/2},y.prototype.getMinX=function(){return this.getX()},y.prototype.getMaxX=function(){return this.getX()+this.width},y.prototype.getCenterY=function(){return this.y+this.height/2},y.prototype.getMinY=function(){return this.getY()},y.prototype.getMaxY=function(){return this.getY()+this.height},y.prototype.getWidthHalf=function(){return this.width/2},y.prototype.getHeightHalf=function(){return this.height/2},B.exports=y}),(function(B,rt,C){"use strict";var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function l(){}l.lastID=0,l.createID=function(o){return l.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=l.getString(),l.lastID++),o.uniqueID)},l.getString=function(o){return o==null&&(o=l.lastID),"Object#"+o},l.isPrimitive=function(o){var e=typeof o>"u"?"undefined":y(o);return o==null||e!="object"&&e!="function"},B.exports=l}),(function(B,rt,C){"use strict";function y(h){if(Array.isArray(h)){for(var c=0,s=Array(h.length);c<h.length;c++)s[c]=h[c];return s}else return Array.from(h)}var l=C(0),o=C(7),e=C(3),n=C(1),g=C(6),i=C(5),E=C(17),r=C(29);function t(h){r.call(this),this.layoutQuality=l.QUALITY,this.createBendsAsNeeded=l.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=l.DEFAULT_INCREMENTAL,this.animationOnLayout=l.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=l.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=l.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=l.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,h!=null&&(this.isRemoteUse=h)}t.RANDOM_SEED=1,t.prototype=Object.create(r.prototype),t.prototype.getGraphManager=function(){return this.graphManager},t.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},t.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},t.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},t.prototype.newGraphManager=function(){var h=new o(this);return this.graphManager=h,h},t.prototype.newGraph=function(h){return new g(null,this.graphManager,h)},t.prototype.newNode=function(h){return new e(this.graphManager,h)},t.prototype.newEdge=function(h){return new n(null,null,h)},t.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},t.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var h;return this.checkLayoutSuccess()?h=!1:h=this.layout(),l.ANIMATE==="during"?!1:(h&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,h)},t.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},t.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var h,c=this.graphManager.getAllEdges(),s=0;s<c.length;s++)h=c[s];for(var N,v=this.graphManager.getRoot().getNodes(),s=0;s<v.length;s++)N=v[s];this.update(this.graphManager.getRoot())}},t.prototype.update=function(h){if(h==null)this.update2();else if(h instanceof e){var c=h;if(c.getChild()!=null)for(var s=c.getChild().getNodes(),N=0;N<s.length;N++)update(s[N]);if(c.vGraphObject!=null){var v=c.vGraphObject;v.update(c)}}else if(h instanceof n){var d=h;if(d.vGraphObject!=null){var m=d.vGraphObject;m.update(d)}}else if(h instanceof g){var G=h;if(G.vGraphObject!=null){var L=G.vGraphObject;L.update(G)}}},t.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=l.QUALITY,this.animationDuringLayout=l.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=l.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=l.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=l.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=l.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=l.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},t.prototype.transform=function(h){if(h==null)this.transform(new i(0,0));else{var c=new E,s=this.graphManager.getRoot().updateLeftTop();if(s!=null){c.setWorldOrgX(h.x),c.setWorldOrgY(h.y),c.setDeviceOrgX(s.x),c.setDeviceOrgY(s.y);for(var N=this.getAllNodes(),v,d=0;d<N.length;d++)v=N[d],v.transform(c)}}},t.prototype.positionNodesRandomly=function(h){if(h==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var c,s,N=h.getNodes(),v=0;v<N.length;v++)c=N[v],s=c.getChild(),s==null||s.getNodes().length==0?c.scatter():(this.positionNodesRandomly(s),c.updateBounds())},t.prototype.getFlatForest=function(){for(var h=[],c=!0,s=this.graphManager.getRoot().getNodes(),N=!0,v=0;v<s.length;v++)s[v].getChild()!=null&&(N=!1);if(!N)return h;var d=new Set,m=[],G=new Map,L=[];for(L=L.concat(s);L.length>0&&c;){for(m.push(L[0]);m.length>0&&c;){var b=m[0];m.splice(0,1),d.add(b);for(var $=b.getEdges(),v=0;v<$.length;v++){var V=$[v].getOtherEnd(b);if(G.get(b)!=V)if(!d.has(V))m.push(V),G.set(V,b);else{c=!1;break}}}if(!c)h=[];else{var it=[].concat(y(d));h.push(it);for(var v=0;v<it.length;v++){var w=it[v],k=L.indexOf(w);k>-1&&L.splice(k,1)}d=new Set,G=new Map}}return h},t.prototype.createDummyNodesForBendpoints=function(h){for(var c=[],s=h.source,N=this.graphManager.calcLowestCommonAncestor(h.source,h.target),v=0;v<h.bendpoints.length;v++){var d=this.newNode(null);d.setRect(new Point(0,0),new Dimension(1,1)),N.add(d);var m=this.newEdge(null);this.graphManager.add(m,s,d),c.add(d),s=d}var m=this.newEdge(null);return this.graphManager.add(m,s,h.target),this.edgeToDummyNodes.set(h,c),h.isInterGraph()?this.graphManager.remove(h):N.remove(h),c},t.prototype.createBendpointsFromDummyNodes=function(){var h=[];h=h.concat(this.graphManager.getAllEdges()),h=[].concat(y(this.edgeToDummyNodes.keys())).concat(h);for(var c=0;c<h.length;c++){var s=h[c];if(s.bendpoints.length>0){for(var N=this.edgeToDummyNodes.get(s),v=0;v<N.length;v++){var d=N[v],m=new i(d.getCenterX(),d.getCenterY()),G=s.bendpoints.get(v);G.x=m.x,G.y=m.y,d.getOwner().remove(d)}this.graphManager.add(s,s.source,s.target)}}},t.transform=function(h,c,s,N){if(s!=null&&N!=null){var v=c;if(h<=50){var d=c/s;v-=(c-d)/50*(50-h)}else{var m=c*N;v+=(m-c)/50*(h-50)}return v}else{var G,L;return h<=50?(G=9*c/500,L=c/10):(G=9*c/50,L=-8*c),G*h+L}},t.findCenterOfTree=function(h){var c=[];c=c.concat(h);var s=[],N=new Map,v=!1,d=null;(c.length==1||c.length==2)&&(v=!0,d=c[0]);for(var m=0;m<c.length;m++){var G=c[m],L=G.getNeighborsList().size;N.set(G,G.getNeighborsList().size),L==1&&s.push(G)}var b=[];for(b=b.concat(s);!v;){var $=[];$=$.concat(b),b=[];for(var m=0;m<c.length;m++){var G=c[m],V=c.indexOf(G);V>=0&&c.splice(V,1);var it=G.getNeighborsList();it.forEach(function(a){if(s.indexOf(a)<0){var p=N.get(a),u=p-1;u==1&&b.push(a),N.set(a,u)}})}s=s.concat(b),(c.length==1||c.length==2)&&(v=!0,d=c[0])}return d},t.prototype.setGraphManager=function(h){this.graphManager=h},B.exports=t}),(function(B,rt,C){"use strict";function y(){}y.seed=1,y.x=0,y.nextDouble=function(){return y.x=Math.sin(y.seed++)*1e4,y.x-Math.floor(y.x)},B.exports=y}),(function(B,rt,C){"use strict";var y=C(5);function l(o,e){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}l.prototype.getWorldOrgX=function(){return this.lworldOrgX},l.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},l.prototype.getWorldOrgY=function(){return this.lworldOrgY},l.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},l.prototype.getWorldExtX=function(){return this.lworldExtX},l.prototype.setWorldExtX=function(o){this.lworldExtX=o},l.prototype.getWorldExtY=function(){return this.lworldExtY},l.prototype.setWorldExtY=function(o){this.lworldExtY=o},l.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},l.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},l.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},l.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},l.prototype.getDeviceExtX=function(){return this.ldeviceExtX},l.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},l.prototype.getDeviceExtY=function(){return this.ldeviceExtY},l.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},l.prototype.transformX=function(o){var e=0,n=this.lworldExtX;return n!=0&&(e=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/n),e},l.prototype.transformY=function(o){var e=0,n=this.lworldExtY;return n!=0&&(e=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/n),e},l.prototype.inverseTransformX=function(o){var e=0,n=this.ldeviceExtX;return n!=0&&(e=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/n),e},l.prototype.inverseTransformY=function(o){var e=0,n=this.ldeviceExtY;return n!=0&&(e=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/n),e},l.prototype.inverseTransformPoint=function(o){var e=new y(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return e},B.exports=l}),(function(B,rt,C){"use strict";function y(r){if(Array.isArray(r)){for(var t=0,h=Array(r.length);t<r.length;t++)h[t]=r[t];return h}else return Array.from(r)}var l=C(15),o=C(4),e=C(0),n=C(8),g=C(9);function i(){l.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}i.prototype=Object.create(l.prototype);for(var E in l)i[E]=l[E];i.prototype.initParameters=function(){l.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},i.prototype.calcIdealEdgeLengths=function(){for(var r,t,h,c,s,N,v,d=this.getGraphManager().getAllEdges(),m=0;m<d.length;m++)r=d[m],t=r.idealLength,r.isInterGraph&&(c=r.getSource(),s=r.getTarget(),N=r.getSourceInLca().getEstimatedSize(),v=r.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(r.idealLength+=N+v-2*e.SIMPLE_NODE_SIZE),h=r.getLca().getInclusionTreeDepth(),r.idealLength+=t*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(c.getInclusionTreeDepth()+s.getInclusionTreeDepth()-2*h))},i.prototype.initSpringEmbedder=function(){var r=this.getAllNodes().length;this.incremental?(r>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(r-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(r>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(r-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},i.prototype.calcSpringForces=function(){for(var r=this.getAllEdges(),t,h=0;h<r.length;h++)t=r[h],this.calcSpringForce(t,t.idealLength)},i.prototype.calcRepulsionForces=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h,c,s,N,v=this.getAllNodes(),d;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&r&&this.updateGrid(),d=new Set,h=0;h<v.length;h++)s=v[h],this.calculateRepulsionForceOfANode(s,d,r,t),d.add(s);else for(h=0;h<v.length;h++)for(s=v[h],c=h+1;c<v.length;c++)N=v[c],s.getOwner()==N.getOwner()&&this.calcRepulsionForce(s,N)},i.prototype.calcGravitationalForces=function(){for(var r,t=this.getAllNodesToApplyGravitation(),h=0;h<t.length;h++)r=t[h],this.calcGravitationalForce(r)},i.prototype.moveNodes=function(){for(var r=this.getAllNodes(),t,h=0;h<r.length;h++)t=r[h],t.move()},i.prototype.calcSpringForce=function(r,t){var h=r.getSource(),c=r.getTarget(),s,N,v,d;if(this.uniformLeafNodeSizes&&h.getChild()==null&&c.getChild()==null)r.updateLengthSimple();else if(r.updateLength(),r.isOverlapingSourceAndTarget)return;s=r.getLength(),s!=0&&(N=r.edgeElasticity*(s-t),v=N*(r.lengthX/s),d=N*(r.lengthY/s),h.springForceX+=v,h.springForceY+=d,c.springForceX-=v,c.springForceY-=d)},i.prototype.calcRepulsionForce=function(r,t){var h=r.getRect(),c=t.getRect(),s=new Array(2),N=new Array(4),v,d,m,G,L,b,$;if(h.intersects(c)){n.calcSeparationAmount(h,c,s,o.DEFAULT_EDGE_LENGTH/2),b=2*s[0],$=2*s[1];var V=r.noOfChildren*t.noOfChildren/(r.noOfChildren+t.noOfChildren);r.repulsionForceX-=V*b,r.repulsionForceY-=V*$,t.repulsionForceX+=V*b,t.repulsionForceY+=V*$}else this.uniformLeafNodeSizes&&r.getChild()==null&&t.getChild()==null?(v=c.getCenterX()-h.getCenterX(),d=c.getCenterY()-h.getCenterY()):(n.getIntersection(h,c,N),v=N[2]-N[0],d=N[3]-N[1]),Math.abs(v)<o.MIN_REPULSION_DIST&&(v=g.sign(v)*o.MIN_REPULSION_DIST),Math.abs(d)<o.MIN_REPULSION_DIST&&(d=g.sign(d)*o.MIN_REPULSION_DIST),m=v*v+d*d,G=Math.sqrt(m),L=(r.nodeRepulsion/2+t.nodeRepulsion/2)*r.noOfChildren*t.noOfChildren/m,b=L*v/G,$=L*d/G,r.repulsionForceX-=b,r.repulsionForceY-=$,t.repulsionForceX+=b,t.repulsionForceY+=$},i.prototype.calcGravitationalForce=function(r){var t,h,c,s,N,v,d,m;t=r.getOwner(),h=(t.getRight()+t.getLeft())/2,c=(t.getTop()+t.getBottom())/2,s=r.getCenterX()-h,N=r.getCenterY()-c,v=Math.abs(s)+r.getWidth()/2,d=Math.abs(N)+r.getHeight()/2,r.getOwner()==this.graphManager.getRoot()?(m=t.getEstimatedSize()*this.gravityRangeFactor,(v>m||d>m)&&(r.gravitationForceX=-this.gravityConstant*s,r.gravitationForceY=-this.gravityConstant*N)):(m=t.getEstimatedSize()*this.compoundGravityRangeFactor,(v>m||d>m)&&(r.gravitationForceX=-this.gravityConstant*s*this.compoundGravityConstant,r.gravitationForceY=-this.gravityConstant*N*this.compoundGravityConstant))},i.prototype.isConverged=function(){var r,t=!1;return this.totalIterations>this.maxIterations/3&&(t=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),r=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,r||t},i.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},i.prototype.calcNoOfChildrenForAllNodes=function(){for(var r,t=this.graphManager.getAllNodes(),h=0;h<t.length;h++)r=t[h],r.noOfChildren=r.getNoOfChildren()},i.prototype.calcGrid=function(r){var t=0,h=0;t=parseInt(Math.ceil((r.getRight()-r.getLeft())/this.repulsionRange)),h=parseInt(Math.ceil((r.getBottom()-r.getTop())/this.repulsionRange));for(var c=new Array(t),s=0;s<t;s++)c[s]=new Array(h);for(var s=0;s<t;s++)for(var N=0;N<h;N++)c[s][N]=new Array;return c},i.prototype.addNodeToGrid=function(r,t,h){var c=0,s=0,N=0,v=0;c=parseInt(Math.floor((r.getRect().x-t)/this.repulsionRange)),s=parseInt(Math.floor((r.getRect().width+r.getRect().x-t)/this.repulsionRange)),N=parseInt(Math.floor((r.getRect().y-h)/this.repulsionRange)),v=parseInt(Math.floor((r.getRect().height+r.getRect().y-h)/this.repulsionRange));for(var d=c;d<=s;d++)for(var m=N;m<=v;m++)this.grid[d][m].push(r),r.setGridCoordinates(c,s,N,v)},i.prototype.updateGrid=function(){var r,t,h=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),r=0;r<h.length;r++)t=h[r],this.addNodeToGrid(t,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},i.prototype.calculateRepulsionForceOfANode=function(r,t,h,c){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&h||c){var s=new Set;r.surrounding=new Array;for(var N,v=this.grid,d=r.startX-1;d<r.finishX+2;d++)for(var m=r.startY-1;m<r.finishY+2;m++)if(!(d<0||m<0||d>=v.length||m>=v[0].length)){for(var G=0;G<v[d][m].length;G++)if(N=v[d][m][G],!(r.getOwner()!=N.getOwner()||r==N)&&!t.has(N)&&!s.has(N)){var L=Math.abs(r.getCenterX()-N.getCenterX())-(r.getWidth()/2+N.getWidth()/2),b=Math.abs(r.getCenterY()-N.getCenterY())-(r.getHeight()/2+N.getHeight()/2);L<=this.repulsionRange&&b<=this.repulsionRange&&s.add(N)}}r.surrounding=[].concat(y(s))}for(d=0;d<r.surrounding.length;d++)this.calcRepulsionForce(r,r.surrounding[d])},i.prototype.calcRepulsionRange=function(){return 0},B.exports=i}),(function(B,rt,C){"use strict";var y=C(1),l=C(4);function o(n,g,i){y.call(this,n,g,i),this.idealLength=l.DEFAULT_EDGE_LENGTH,this.edgeElasticity=l.DEFAULT_SPRING_STRENGTH}o.prototype=Object.create(y.prototype);for(var e in y)o[e]=y[e];B.exports=o}),(function(B,rt,C){"use strict";var y=C(3),l=C(4);function o(n,g,i,E){y.call(this,n,g,i,E),this.nodeRepulsion=l.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}o.prototype=Object.create(y.prototype);for(var e in y)o[e]=y[e];o.prototype.setGridCoordinates=function(n,g,i,E){this.startX=n,this.finishX=g,this.startY=i,this.finishY=E},B.exports=o}),(function(B,rt,C){"use strict";function y(l,o){this.width=0,this.height=0,l!==null&&o!==null&&(this.height=o,this.width=l)}y.prototype.getWidth=function(){return this.width},y.prototype.setWidth=function(l){this.width=l},y.prototype.getHeight=function(){return this.height},y.prototype.setHeight=function(l){this.height=l},B.exports=y}),(function(B,rt,C){"use strict";var y=C(14);function l(){this.map={},this.keys=[]}l.prototype.put=function(o,e){var n=y.createID(o);this.contains(n)||(this.map[n]=e,this.keys.push(o))},l.prototype.contains=function(o){var e=y.createID(o);return this.map[o]!=null},l.prototype.get=function(o){var e=y.createID(o);return this.map[e]},l.prototype.keySet=function(){return this.keys},B.exports=l}),(function(B,rt,C){"use strict";var y=C(14);function l(){this.set={}}l.prototype.add=function(o){var e=y.createID(o);this.contains(e)||(this.set[e]=o)},l.prototype.remove=function(o){delete this.set[y.createID(o)]},l.prototype.clear=function(){this.set={}},l.prototype.contains=function(o){return this.set[y.createID(o)]==o},l.prototype.isEmpty=function(){return this.size()===0},l.prototype.size=function(){return Object.keys(this.set).length},l.prototype.addAllTo=function(o){for(var e=Object.keys(this.set),n=e.length,g=0;g<n;g++)o.push(this.set[e[g]])},l.prototype.size=function(){return Object.keys(this.set).length},l.prototype.addAll=function(o){for(var e=o.length,n=0;n<e;n++){var g=o[n];this.add(g)}},B.exports=l}),(function(B,rt,C){"use strict";function y(){}y.multMat=function(l,o){for(var e=[],n=0;n<l.length;n++){e[n]=[];for(var g=0;g<o[0].length;g++){e[n][g]=0;for(var i=0;i<l[0].length;i++)e[n][g]+=l[n][i]*o[i][g]}}return e},y.transpose=function(l){for(var o=[],e=0;e<l[0].length;e++){o[e]=[];for(var n=0;n<l.length;n++)o[e][n]=l[n][e]}return o},y.multCons=function(l,o){for(var e=[],n=0;n<l.length;n++)e[n]=l[n]*o;return e},y.minusOp=function(l,o){for(var e=[],n=0;n<l.length;n++)e[n]=l[n]-o[n];return e},y.dotProduct=function(l,o){for(var e=0,n=0;n<l.length;n++)e+=l[n]*o[n];return e},y.mag=function(l){return Math.sqrt(this.dotProduct(l,l))},y.normalize=function(l){for(var o=[],e=this.mag(l),n=0;n<l.length;n++)o[n]=l[n]/e;return o},y.multGamma=function(l){for(var o=[],e=0,n=0;n<l.length;n++)e+=l[n];e*=-1/l.length;for(var g=0;g<l.length;g++)o[g]=e+l[g];return o},y.multL=function(l,o,e){for(var n=[],g=[],i=[],E=0;E<o[0].length;E++){for(var r=0,t=0;t<o.length;t++)r+=-.5*o[t][E]*l[t];g[E]=r}for(var h=0;h<e.length;h++){for(var c=0,s=0;s<e.length;s++)c+=e[h][s]*g[s];i[h]=c}for(var N=0;N<o.length;N++){for(var v=0,d=0;d<o[0].length;d++)v+=o[N][d]*i[d];n[N]=v}return n},B.exports=y}),(function(B,rt,C){"use strict";var y=(function(){function n(g,i){for(var E=0;E<i.length;E++){var r=i[E];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(g,r.key,r)}}return function(g,i,E){return i&&n(g.prototype,i),E&&n(g,E),g}})();function l(n,g){if(!(n instanceof g))throw new TypeError("Cannot call a class as a function")}var o=C(11),e=(function(){function n(g,i){l(this,n),(i!==null||i!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var E=void 0;g instanceof o?E=g.size():E=g.length,this._quicksort(g,0,E-1)}return y(n,[{key:"_quicksort",value:function(i,E,r){if(E<r){var t=this._partition(i,E,r);this._quicksort(i,E,t),this._quicksort(i,t+1,r)}}},{key:"_partition",value:function(i,E,r){for(var t=this._get(i,E),h=E,c=r;;){for(;this.compareFunction(t,this._get(i,c));)c--;for(;this.compareFunction(this._get(i,h),t);)h++;if(h<c)this._swap(i,h,c),h++,c--;else return c}}},{key:"_get",value:function(i,E){return i instanceof o?i.get_object_at(E):i[E]}},{key:"_set",value:function(i,E,r){i instanceof o?i.set_object_at(E,r):i[E]=r}},{key:"_swap",value:function(i,E,r){var t=this._get(i,E);this._set(i,E,this._get(i,r)),this._set(i,r,t)}},{key:"_defaultCompareFunction",value:function(i,E){return E>i}}]),n})();B.exports=e}),(function(B,rt,C){"use strict";function y(){}y.svd=function(l){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=l.length,this.n=l[0].length;var o=Math.min(this.m,this.n);this.s=(function(Dt){for(var Nt=[];Dt-- >0;)Nt.push(0);return Nt})(Math.min(this.m+1,this.n)),this.U=(function(Dt){var Nt=function zt(Rt){if(Rt.length==0)return 0;for(var Yt=[],Wt=0;Wt<Rt[0];Wt++)Yt.push(zt(Rt.slice(1)));return Yt};return Nt(Dt)})([this.m,o]),this.V=(function(Dt){var Nt=function zt(Rt){if(Rt.length==0)return 0;for(var Yt=[],Wt=0;Wt<Rt[0];Wt++)Yt.push(zt(Rt.slice(1)));return Yt};return Nt(Dt)})([this.n,this.n]);for(var e=(function(Dt){for(var Nt=[];Dt-- >0;)Nt.push(0);return Nt})(this.n),n=(function(Dt){for(var Nt=[];Dt-- >0;)Nt.push(0);return Nt})(this.m),g=!0,i=!0,E=Math.min(this.m-1,this.n),r=Math.max(0,Math.min(this.n-2,this.m)),t=0;t<Math.max(E,r);t++){if(t<E){this.s[t]=0;for(var h=t;h<this.m;h++)this.s[t]=y.hypot(this.s[t],l[h][t]);if(this.s[t]!==0){l[t][t]<0&&(this.s[t]=-this.s[t]);for(var c=t;c<this.m;c++)l[c][t]/=this.s[t];l[t][t]+=1}this.s[t]=-this.s[t]}for(var s=t+1;s<this.n;s++){if((function(Dt,Nt){return Dt&&Nt})(t<E,this.s[t]!==0)){for(var N=0,v=t;v<this.m;v++)N+=l[v][t]*l[v][s];N=-N/l[t][t];for(var d=t;d<this.m;d++)l[d][s]+=N*l[d][t]}e[s]=l[t][s]}if((function(Dt,Nt){return Dt&&Nt})(g,t<E))for(var m=t;m<this.m;m++)this.U[m][t]=l[m][t];if(t<r){e[t]=0;for(var G=t+1;G<this.n;G++)e[t]=y.hypot(e[t],e[G]);if(e[t]!==0){e[t+1]<0&&(e[t]=-e[t]);for(var L=t+1;L<this.n;L++)e[L]/=e[t];e[t+1]+=1}if(e[t]=-e[t],(function(Dt,Nt){return Dt&&Nt})(t+1<this.m,e[t]!==0)){for(var b=t+1;b<this.m;b++)n[b]=0;for(var $=t+1;$<this.n;$++)for(var V=t+1;V<this.m;V++)n[V]+=e[$]*l[V][$];for(var it=t+1;it<this.n;it++)for(var w=-e[it]/e[t+1],k=t+1;k<this.m;k++)l[k][it]+=w*n[k]}if(i)for(var a=t+1;a<this.n;a++)this.V[a][t]=e[a]}}var p=Math.min(this.n,this.m+1);if(E<this.n&&(this.s[E]=l[E][E]),this.m<p&&(this.s[p-1]=0),r+1<p&&(e[r]=l[r][p-1]),e[p-1]=0,g){for(var u=E;u<o;u++){for(var T=0;T<this.m;T++)this.U[T][u]=0;this.U[u][u]=1}for(var f=E-1;f>=0;f--)if(this.s[f]!==0){for(var O=f+1;O<o;O++){for(var A=0,x=f;x<this.m;x++)A+=this.U[x][f]*this.U[x][O];A=-A/this.U[f][f];for(var I=f;I<this.m;I++)this.U[I][O]+=A*this.U[I][f]}for(var D=f;D<this.m;D++)this.U[D][f]=-this.U[D][f];this.U[f][f]=1+this.U[f][f];for(var z=0;z<f-1;z++)this.U[z][f]=0}else{for(var j=0;j<this.m;j++)this.U[j][f]=0;this.U[f][f]=1}}if(i)for(var R=this.n-1;R>=0;R--){if((function(Dt,Nt){return Dt&&Nt})(R<r,e[R]!==0))for(var J=R+1;J<o;J++){for(var H=0,M=R+1;M<this.n;M++)H+=this.V[M][R]*this.V[M][J];H=-H/this.V[R+1][R];for(var S=R+1;S<this.n;S++)this.V[S][J]+=H*this.V[S][R]}for(var P=0;P<this.n;P++)this.V[P][R]=0;this.V[R][R]=1}for(var q=p-1,st=0,mt=Math.pow(2,-52),xt=Math.pow(2,-966);p>0;){var Q=void 0,Ut=void 0;for(Q=p-2;Q>=-1&&Q!==-1;Q--)if(Math.abs(e[Q])<=xt+mt*(Math.abs(this.s[Q])+Math.abs(this.s[Q+1]))){e[Q]=0;break}if(Q===p-2)Ut=4;else{var At=void 0;for(At=p-1;At>=Q&&At!==Q;At--){var nt=(At!==p?Math.abs(e[At]):0)+(At!==Q+1?Math.abs(e[At-1]):0);if(Math.abs(this.s[At])<=xt+mt*nt){this.s[At]=0;break}}At===Q?Ut=3:At===p-1?Ut=1:(Ut=2,Q=At)}switch(Q++,Ut){case 1:{var _=e[p-2];e[p-2]=0;for(var dt=p-2;dt>=Q;dt--){var Et=y.hypot(this.s[dt],_),Lt=this.s[dt]/Et,yt=_/Et;if(this.s[dt]=Et,dt!==Q&&(_=-yt*e[dt-1],e[dt-1]=Lt*e[dt-1]),i)for(var Tt=0;Tt<this.n;Tt++)Et=Lt*this.V[Tt][dt]+yt*this.V[Tt][p-1],this.V[Tt][p-1]=-yt*this.V[Tt][dt]+Lt*this.V[Tt][p-1],this.V[Tt][dt]=Et}}break;case 2:{var Ot=e[Q-1];e[Q-1]=0;for(var It=Q;It<p;It++){var Ht=y.hypot(this.s[It],Ot),Gt=this.s[It]/Ht,bt=Ot/Ht;if(this.s[It]=Ht,Ot=-bt*e[It],e[It]=Gt*e[It],g)for(var St=0;St<this.m;St++)Ht=Gt*this.U[St][It]+bt*this.U[St][Q-1],this.U[St][Q-1]=-bt*this.U[St][It]+Gt*this.U[St][Q-1],this.U[St][It]=Ht}}break;case 3:{var F=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[p-1]),Math.abs(this.s[p-2])),Math.abs(e[p-2])),Math.abs(this.s[Q])),Math.abs(e[Q])),U=this.s[p-1]/F,Y=this.s[p-2]/F,X=e[p-2]/F,W=this.s[Q]/F,K=e[Q]/F,gt=((Y+U)*(Y-U)+X*X)/2,ft=U*X*(U*X),Z=0;(function(Dt,Nt){return Dt||Nt})(gt!==0,ft!==0)&&(Z=Math.sqrt(gt*gt+ft),gt<0&&(Z=-Z),Z=ft/(gt+Z));for(var ht=(W+U)*(W-U)+Z,ut=W*K,tt=Q;tt<p-1;tt++){var vt=y.hypot(ht,ut),Mt=ht/vt,ot=ut/vt;if(tt!==Q&&(e[tt-1]=vt),ht=Mt*this.s[tt]+ot*e[tt],e[tt]=Mt*e[tt]-ot*this.s[tt],ut=ot*this.s[tt+1],this.s[tt+1]=Mt*this.s[tt+1],i)for(var et=0;et<this.n;et++)vt=Mt*this.V[et][tt]+ot*this.V[et][tt+1],this.V[et][tt+1]=-ot*this.V[et][tt]+Mt*this.V[et][tt+1],this.V[et][tt]=vt;if(vt=y.hypot(ht,ut),Mt=ht/vt,ot=ut/vt,this.s[tt]=vt,ht=Mt*e[tt]+ot*this.s[tt+1],this.s[tt+1]=-ot*e[tt]+Mt*this.s[tt+1],ut=ot*e[tt+1],e[tt+1]=Mt*e[tt+1],g&&tt<this.m-1)for(var ct=0;ct<this.m;ct++)vt=Mt*this.U[ct][tt]+ot*this.U[ct][tt+1],this.U[ct][tt+1]=-ot*this.U[ct][tt]+Mt*this.U[ct][tt+1],this.U[ct][tt]=vt}e[p-2]=ht,st=st+1}break;case 4:{if(this.s[Q]<=0&&(this.s[Q]=this.s[Q]<0?-this.s[Q]:0,i))for(var at=0;at<=q;at++)this.V[at][Q]=-this.V[at][Q];for(;Q<q&&!(this.s[Q]>=this.s[Q+1]);){var lt=this.s[Q];if(this.s[Q]=this.s[Q+1],this.s[Q+1]=lt,i&&Q<this.n-1)for(var Ft=0;Ft<this.n;Ft++)lt=this.V[Ft][Q+1],this.V[Ft][Q+1]=this.V[Ft][Q],this.V[Ft][Q]=lt;if(g&&Q<this.m-1)for(var wt=0;wt<this.m;wt++)lt=this.U[wt][Q+1],this.U[wt][Q+1]=this.U[wt][Q],this.U[wt][Q]=lt;Q++}st=0,p--}break}}var Xt={U:this.U,V:this.V,S:this.s};return Xt},y.hypot=function(l,o){var e=void 0;return Math.abs(l)>Math.abs(o)?(e=o/l,e=Math.abs(l)*Math.sqrt(1+e*e)):o!=0?(e=l/o,e=Math.abs(o)*Math.sqrt(1+e*e)):e=0,e},B.exports=y}),(function(B,rt,C){"use strict";var y=(function(){function e(n,g){for(var i=0;i<g.length;i++){var E=g[i];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(n,E.key,E)}}return function(n,g,i){return g&&e(n.prototype,g),i&&e(n,i),n}})();function l(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var o=(function(){function e(n,g){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;l(this,e),this.sequence1=n,this.sequence2=g,this.match_score=i,this.mismatch_penalty=E,this.gap_penalty=r,this.iMax=n.length+1,this.jMax=g.length+1,this.grid=new Array(this.iMax);for(var t=0;t<this.iMax;t++){this.grid[t]=new Array(this.jMax);for(var h=0;h<this.jMax;h++)this.grid[t][h]=0}this.tracebackGrid=new Array(this.iMax);for(var c=0;c<this.iMax;c++){this.tracebackGrid[c]=new Array(this.jMax);for(var s=0;s<this.jMax;s++)this.tracebackGrid[c][s]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return y(e,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var g=1;g<this.jMax;g++)this.grid[0][g]=this.grid[0][g-1]+this.gap_penalty,this.tracebackGrid[0][g]=[!1,!1,!0];for(var i=1;i<this.iMax;i++)this.grid[i][0]=this.grid[i-1][0]+this.gap_penalty,this.tracebackGrid[i][0]=[!1,!0,!1];for(var E=1;E<this.iMax;E++)for(var r=1;r<this.jMax;r++){var t=void 0;this.sequence1[E-1]===this.sequence2[r-1]?t=this.grid[E-1][r-1]+this.match_score:t=this.grid[E-1][r-1]+this.mismatch_penalty;var h=this.grid[E-1][r]+this.gap_penalty,c=this.grid[E][r-1]+this.gap_penalty,s=[t,h,c],N=this.arrayAllMaxIndexes(s);this.grid[E][r]=s[N[0]],this.tracebackGrid[E][r]=[N.includes(0),N.includes(1),N.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var g=[];for(g.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});g[0];){var i=g[0],E=this.tracebackGrid[i.pos[0]][i.pos[1]];E[0]&&g.push({pos:[i.pos[0]-1,i.pos[1]-1],seq1:this.sequence1[i.pos[0]-1]+i.seq1,seq2:this.sequence2[i.pos[1]-1]+i.seq2}),E[1]&&g.push({pos:[i.pos[0]-1,i.pos[1]],seq1:this.sequence1[i.pos[0]-1]+i.seq1,seq2:"-"+i.seq2}),E[2]&&g.push({pos:[i.pos[0],i.pos[1]-1],seq1:"-"+i.seq1,seq2:this.sequence2[i.pos[1]-1]+i.seq2}),i.pos[0]===0&&i.pos[1]===0&&this.alignments.push({sequence1:i.seq1,sequence2:i.seq2}),g.shift()}return this.alignments}},{key:"getAllIndexes",value:function(g,i){for(var E=[],r=-1;(r=g.indexOf(i,r+1))!==-1;)E.push(r);return E}},{key:"arrayAllMaxIndexes",value:function(g){return this.getAllIndexes(g,Math.max.apply(null,g))}}]),e})();B.exports=o}),(function(B,rt,C){"use strict";var y=function(){};y.FDLayout=C(18),y.FDLayoutConstants=C(4),y.FDLayoutEdge=C(19),y.FDLayoutNode=C(20),y.DimensionD=C(21),y.HashMap=C(22),y.HashSet=C(23),y.IGeometry=C(8),y.IMath=C(9),y.Integer=C(10),y.Point=C(12),y.PointD=C(5),y.RandomSeed=C(16),y.RectangleD=C(13),y.Transform=C(17),y.UniqueIDGeneretor=C(14),y.Quicksort=C(25),y.LinkedList=C(11),y.LGraphObject=C(2),y.LGraph=C(6),y.LEdge=C(1),y.LGraphManager=C(7),y.LNode=C(3),y.Layout=C(15),y.LayoutConstants=C(0),y.NeedlemanWunsch=C(27),y.Matrix=C(24),y.SVD=C(26),B.exports=y}),(function(B,rt,C){"use strict";function y(){this.listeners=[]}var l=y.prototype;l.addListener=function(o,e){this.listeners.push({event:o,callback:e})},l.removeListener=function(o,e){for(var n=this.listeners.length;n>=0;n--){var g=this.listeners[n];g.event===o&&g.callback===e&&this.listeners.splice(n,1)}},l.emit=function(o,e){for(var n=0;n<this.listeners.length;n++){var g=this.listeners[n];o===g.event&&g.callback(e)}},B.exports=y})])})});var fe=oe((kt,le)=>{(function(rt,C){typeof kt=="object"&&typeof le=="object"?le.exports=C(he()):typeof define=="function"&&define.amd?define(["layout-base"],C):typeof kt=="object"?kt.coseBase=C(he()):rt.coseBase=C(rt.layoutBase)})(kt,function(B){return(()=>{"use strict";var rt={45:((o,e,n)=>{var g={};g.layoutBase=n(551),g.CoSEConstants=n(806),g.CoSEEdge=n(767),g.CoSEGraph=n(880),g.CoSEGraphManager=n(578),g.CoSELayout=n(765),g.CoSENode=n(991),g.ConstraintHandler=n(902),o.exports=g}),806:((o,e,n)=>{var g=n(551).FDLayoutConstants;function i(){}for(var E in g)i[E]=g[E];i.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,i.DEFAULT_RADIAL_SEPARATION=g.DEFAULT_EDGE_LENGTH,i.DEFAULT_COMPONENT_SEPERATION=60,i.TILE=!0,i.TILING_PADDING_VERTICAL=10,i.TILING_PADDING_HORIZONTAL=10,i.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,i.ENFORCE_CONSTRAINTS=!0,i.APPLY_LAYOUT=!0,i.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,i.TREE_REDUCTION_ON_INCREMENTAL=!0,i.PURE_INCREMENTAL=i.DEFAULT_INCREMENTAL,o.exports=i}),767:((o,e,n)=>{var g=n(551).FDLayoutEdge;function i(r,t,h){g.call(this,r,t,h)}i.prototype=Object.create(g.prototype);for(var E in g)i[E]=g[E];o.exports=i}),880:((o,e,n)=>{var g=n(551).LGraph;function i(r,t,h){g.call(this,r,t,h)}i.prototype=Object.create(g.prototype);for(var E in g)i[E]=g[E];o.exports=i}),578:((o,e,n)=>{var g=n(551).LGraphManager;function i(r){g.call(this,r)}i.prototype=Object.create(g.prototype);for(var E in g)i[E]=g[E];o.exports=i}),765:((o,e,n)=>{var g=n(551).FDLayout,i=n(578),E=n(880),r=n(991),t=n(767),h=n(806),c=n(902),s=n(551).FDLayoutConstants,N=n(551).LayoutConstants,v=n(551).Point,d=n(551).PointD,m=n(551).DimensionD,G=n(551).Layout,L=n(551).Integer,b=n(551).IGeometry,$=n(551).LGraph,V=n(551).Transform,it=n(551).LinkedList;function w(){g.call(this),this.toBeTiled={},this.constraints={}}w.prototype=Object.create(g.prototype);for(var k in g)w[k]=g[k];w.prototype.newGraphManager=function(){var a=new i(this);return this.graphManager=a,a},w.prototype.newGraph=function(a){return new E(null,this.graphManager,a)},w.prototype.newNode=function(a){return new r(this.graphManager,a)},w.prototype.newEdge=function(a){return new t(null,null,a)},w.prototype.initParameters=function(){g.prototype.initParameters.call(this,arguments),this.isSubLayout||(h.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=h.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=h.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=s.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=s.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=s.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},w.prototype.initSpringEmbedder=function(){g.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/s.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},w.prototype.layout=function(){var a=N.DEFAULT_CREATE_BENDS_AS_NEEDED;return a&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},w.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(h.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var p=new Set(this.getAllNodes()),u=this.nodesWithGravity.filter(function(O){return p.has(O)});this.graphManager.setAllNodesToApplyGravitation(u)}}else{var a=this.getFlatForest();if(a.length>0)this.positionNodesRadially(a);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var p=new Set(this.getAllNodes()),u=this.nodesWithGravity.filter(function(T){return p.has(T)});this.graphManager.setAllNodesToApplyGravitation(u),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(c.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),h.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},w.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%s.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var a=new Set(this.getAllNodes()),p=this.nodesWithGravity.filter(function(f){return a.has(f)});this.graphManager.setAllNodesToApplyGravitation(p),this.graphManager.updateBounds(),this.updateGrid(),h.PURE_INCREMENTAL?this.coolingFactor=s.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=s.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),h.PURE_INCREMENTAL?this.coolingFactor=s.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=s.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var u=!this.isTreeGrowing&&!this.isGrowthFinished,T=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(u,T),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},w.prototype.getPositionsData=function(){for(var a=this.graphManager.getAllNodes(),p={},u=0;u<a.length;u++){var T=a[u].rect,f=a[u].id;p[f]={id:f,x:T.getCenterX(),y:T.getCenterY(),w:T.width,h:T.height}}return p},w.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var a=!1;if(s.ANIMATE==="during")this.emit("layoutstarted");else{for(;!a;)a=this.tick();this.graphManager.updateBounds()}},w.prototype.moveNodes=function(){for(var a=this.getAllNodes(),p,u=0;u<a.length;u++)p=a[u],p.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var u=0;u<a.length;u++)p=a[u],p.move()},w.prototype.initConstraintVariables=function(){var a=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var p=this.graphManager.getAllNodes(),u=0;u<p.length;u++){var T=p[u];this.idToNodeMap.set(T.id,T)}var f=function M(S){for(var P=S.getChild().getNodes(),q,st=0,mt=0;mt<P.length;mt++)q=P[mt],q.getChild()==null?a.fixedNodeSet.has(q.id)&&(st+=100):st+=M(q);return st};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(P){a.fixedNodeSet.add(P.nodeId)});for(var p=this.graphManager.getAllNodes(),T,u=0;u<p.length;u++)if(T=p[u],T.getChild()!=null){var O=f(T);O>0&&(T.fixedNodeWeight=O)}}if(this.constraints.relativePlacementConstraint){var A=new Map,x=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(M){a.fixedNodesOnHorizontal.add(M),a.fixedNodesOnVertical.add(M)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var I=this.constraints.alignmentConstraint.vertical,u=0;u<I.length;u++)this.dummyToNodeForVerticalAlignment.set("dummy"+u,[]),I[u].forEach(function(S){A.set(S,"dummy"+u),a.dummyToNodeForVerticalAlignment.get("dummy"+u).push(S),a.fixedNodeSet.has(S)&&a.fixedNodesOnHorizontal.add("dummy"+u)});if(this.constraints.alignmentConstraint.horizontal)for(var D=this.constraints.alignmentConstraint.horizontal,u=0;u<D.length;u++)this.dummyToNodeForHorizontalAlignment.set("dummy"+u,[]),D[u].forEach(function(S){x.set(S,"dummy"+u),a.dummyToNodeForHorizontalAlignment.get("dummy"+u).push(S),a.fixedNodeSet.has(S)&&a.fixedNodesOnVertical.add("dummy"+u)})}if(h.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(M){var S,P,q;for(q=M.length-1;q>=2*M.length/3;q--)S=Math.floor(Math.random()*(q+1)),P=M[q],M[q]=M[S],M[S]=P;return M},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(M){if(M.left){var S=A.has(M.left)?A.get(M.left):M.left,P=A.has(M.right)?A.get(M.right):M.right;a.nodesInRelativeHorizontal.includes(S)||(a.nodesInRelativeHorizontal.push(S),a.nodeToRelativeConstraintMapHorizontal.set(S,[]),a.dummyToNodeForVerticalAlignment.has(S)?a.nodeToTempPositionMapHorizontal.set(S,a.idToNodeMap.get(a.dummyToNodeForVerticalAlignment.get(S)[0]).getCenterX()):a.nodeToTempPositionMapHorizontal.set(S,a.idToNodeMap.get(S).getCenterX())),a.nodesInRelativeHorizontal.includes(P)||(a.nodesInRelativeHorizontal.push(P),a.nodeToRelativeConstraintMapHorizontal.set(P,[]),a.dummyToNodeForVerticalAlignment.has(P)?a.nodeToTempPositionMapHorizontal.set(P,a.idToNodeMap.get(a.dummyToNodeForVerticalAlignment.get(P)[0]).getCenterX()):a.nodeToTempPositionMapHorizontal.set(P,a.idToNodeMap.get(P).getCenterX())),a.nodeToRelativeConstraintMapHorizontal.get(S).push({right:P,gap:M.gap}),a.nodeToRelativeConstraintMapHorizontal.get(P).push({left:S,gap:M.gap})}else{var q=x.has(M.top)?x.get(M.top):M.top,st=x.has(M.bottom)?x.get(M.bottom):M.bottom;a.nodesInRelativeVertical.includes(q)||(a.nodesInRelativeVertical.push(q),a.nodeToRelativeConstraintMapVertical.set(q,[]),a.dummyToNodeForHorizontalAlignment.has(q)?a.nodeToTempPositionMapVertical.set(q,a.idToNodeMap.get(a.dummyToNodeForHorizontalAlignment.get(q)[0]).getCenterY()):a.nodeToTempPositionMapVertical.set(q,a.idToNodeMap.get(q).getCenterY())),a.nodesInRelativeVertical.includes(st)||(a.nodesInRelativeVertical.push(st),a.nodeToRelativeConstraintMapVertical.set(st,[]),a.dummyToNodeForHorizontalAlignment.has(st)?a.nodeToTempPositionMapVertical.set(st,a.idToNodeMap.get(a.dummyToNodeForHorizontalAlignment.get(st)[0]).getCenterY()):a.nodeToTempPositionMapVertical.set(st,a.idToNodeMap.get(st).getCenterY())),a.nodeToRelativeConstraintMapVertical.get(q).push({bottom:st,gap:M.gap}),a.nodeToRelativeConstraintMapVertical.get(st).push({top:q,gap:M.gap})}});else{var z=new Map,j=new Map;this.constraints.relativePlacementConstraint.forEach(function(M){if(M.left){var S=A.has(M.left)?A.get(M.left):M.left,P=A.has(M.right)?A.get(M.right):M.right;z.has(S)?z.get(S).push(P):z.set(S,[P]),z.has(P)?z.get(P).push(S):z.set(P,[S])}else{var q=x.has(M.top)?x.get(M.top):M.top,st=x.has(M.bottom)?x.get(M.bottom):M.bottom;j.has(q)?j.get(q).push(st):j.set(q,[st]),j.has(st)?j.get(st).push(q):j.set(st,[q])}});var R=function(S,P){var q=[],st=[],mt=new it,xt=new Set,Q=0;return S.forEach(function(Ut,At){if(!xt.has(At)){q[Q]=[],st[Q]=!1;var nt=At;for(mt.push(nt),xt.add(nt),q[Q].push(nt);mt.length!=0;){nt=mt.shift(),P.has(nt)&&(st[Q]=!0);var _=S.get(nt);_.forEach(function(dt){xt.has(dt)||(mt.push(dt),xt.add(dt),q[Q].push(dt))})}Q++}}),{components:q,isFixed:st}},J=R(z,a.fixedNodesOnHorizontal);this.componentsOnHorizontal=J.components,this.fixedComponentsOnHorizontal=J.isFixed;var H=R(j,a.fixedNodesOnVertical);this.componentsOnVertical=H.components,this.fixedComponentsOnVertical=H.isFixed}}},w.prototype.updateDisplacements=function(){var a=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(H){var M=a.idToNodeMap.get(H.nodeId);M.displacementX=0,M.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var p=this.constraints.alignmentConstraint.vertical,u=0;u<p.length;u++){for(var T=0,f=0;f<p[u].length;f++){if(this.fixedNodeSet.has(p[u][f])){T=0;break}T+=this.idToNodeMap.get(p[u][f]).displacementX}for(var O=T/p[u].length,f=0;f<p[u].length;f++)this.idToNodeMap.get(p[u][f]).displacementX=O}if(this.constraints.alignmentConstraint.horizontal)for(var A=this.constraints.alignmentConstraint.horizontal,u=0;u<A.length;u++){for(var x=0,f=0;f<A[u].length;f++){if(this.fixedNodeSet.has(A[u][f])){x=0;break}x+=this.idToNodeMap.get(A[u][f]).displacementY}for(var I=x/A[u].length,f=0;f<A[u].length;f++)this.idToNodeMap.get(A[u][f]).displacementY=I}}if(this.constraints.relativePlacementConstraint)if(h.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(H){if(!a.fixedNodesOnHorizontal.has(H)){var M=0;a.dummyToNodeForVerticalAlignment.has(H)?M=a.idToNodeMap.get(a.dummyToNodeForVerticalAlignment.get(H)[0]).displacementX:M=a.idToNodeMap.get(H).displacementX,a.nodeToRelativeConstraintMapHorizontal.get(H).forEach(function(S){if(S.right){var P=a.nodeToTempPositionMapHorizontal.get(S.right)-a.nodeToTempPositionMapHorizontal.get(H)-M;P<S.gap&&(M-=S.gap-P)}else{var P=a.nodeToTempPositionMapHorizontal.get(H)-a.nodeToTempPositionMapHorizontal.get(S.left)+M;P<S.gap&&(M+=S.gap-P)}}),a.nodeToTempPositionMapHorizontal.set(H,a.nodeToTempPositionMapHorizontal.get(H)+M),a.dummyToNodeForVerticalAlignment.has(H)?a.dummyToNodeForVerticalAlignment.get(H).forEach(function(S){a.idToNodeMap.get(S).displacementX=M}):a.idToNodeMap.get(H).displacementX=M}}),this.nodesInRelativeVertical.forEach(function(H){if(!a.fixedNodesOnHorizontal.has(H)){var M=0;a.dummyToNodeForHorizontalAlignment.has(H)?M=a.idToNodeMap.get(a.dummyToNodeForHorizontalAlignment.get(H)[0]).displacementY:M=a.idToNodeMap.get(H).displacementY,a.nodeToRelativeConstraintMapVertical.get(H).forEach(function(S){if(S.bottom){var P=a.nodeToTempPositionMapVertical.get(S.bottom)-a.nodeToTempPositionMapVertical.get(H)-M;P<S.gap&&(M-=S.gap-P)}else{var P=a.nodeToTempPositionMapVertical.get(H)-a.nodeToTempPositionMapVertical.get(S.top)+M;P<S.gap&&(M+=S.gap-P)}}),a.nodeToTempPositionMapVertical.set(H,a.nodeToTempPositionMapVertical.get(H)+M),a.dummyToNodeForHorizontalAlignment.has(H)?a.dummyToNodeForHorizontalAlignment.get(H).forEach(function(S){a.idToNodeMap.get(S).displacementY=M}):a.idToNodeMap.get(H).displacementY=M}});else{for(var u=0;u<this.componentsOnHorizontal.length;u++){var D=this.componentsOnHorizontal[u];if(this.fixedComponentsOnHorizontal[u])for(var f=0;f<D.length;f++)this.dummyToNodeForVerticalAlignment.has(D[f])?this.dummyToNodeForVerticalAlignment.get(D[f]).forEach(function(S){a.idToNodeMap.get(S).displacementX=0}):this.idToNodeMap.get(D[f]).displacementX=0;else{for(var z=0,j=0,f=0;f<D.length;f++)if(this.dummyToNodeForVerticalAlignment.has(D[f])){var R=this.dummyToNodeForVerticalAlignment.get(D[f]);z+=R.length*this.idToNodeMap.get(R[0]).displacementX,j+=R.length}else z+=this.idToNodeMap.get(D[f]).displacementX,j++;for(var J=z/j,f=0;f<D.length;f++)this.dummyToNodeForVerticalAlignment.has(D[f])?this.dummyToNodeForVerticalAlignment.get(D[f]).forEach(function(S){a.idToNodeMap.get(S).displacementX=J}):this.idToNodeMap.get(D[f]).displacementX=J}}for(var u=0;u<this.componentsOnVertical.length;u++){var D=this.componentsOnVertical[u];if(this.fixedComponentsOnVertical[u])for(var f=0;f<D.length;f++)this.dummyToNodeForHorizontalAlignment.has(D[f])?this.dummyToNodeForHorizontalAlignment.get(D[f]).forEach(function(P){a.idToNodeMap.get(P).displacementY=0}):this.idToNodeMap.get(D[f]).displacementY=0;else{for(var z=0,j=0,f=0;f<D.length;f++)if(this.dummyToNodeForHorizontalAlignment.has(D[f])){var R=this.dummyToNodeForHorizontalAlignment.get(D[f]);z+=R.length*this.idToNodeMap.get(R[0]).displacementY,j+=R.length}else z+=this.idToNodeMap.get(D[f]).displacementY,j++;for(var J=z/j,f=0;f<D.length;f++)this.dummyToNodeForHorizontalAlignment.has(D[f])?this.dummyToNodeForHorizontalAlignment.get(D[f]).forEach(function(mt){a.idToNodeMap.get(mt).displacementY=J}):this.idToNodeMap.get(D[f]).displacementY=J}}}},w.prototype.calculateNodesToApplyGravitationTo=function(){var a=[],p,u=this.graphManager.getGraphs(),T=u.length,f;for(f=0;f<T;f++)p=u[f],p.updateConnected(),p.isConnected||(a=a.concat(p.getNodes()));return a},w.prototype.createBendpoints=function(){var a=[];a=a.concat(this.graphManager.getAllEdges());var p=new Set,u;for(u=0;u<a.length;u++){var T=a[u];if(!p.has(T)){var f=T.getSource(),O=T.getTarget();if(f==O)T.getBendpoints().push(new d),T.getBendpoints().push(new d),this.createDummyNodesForBendpoints(T),p.add(T);else{var A=[];if(A=A.concat(f.getEdgeListToNode(O)),A=A.concat(O.getEdgeListToNode(f)),!p.has(A[0])){if(A.length>1){var x;for(x=0;x<A.length;x++){var I=A[x];I.getBendpoints().push(new d),this.createDummyNodesForBendpoints(I)}}A.forEach(function(D){p.add(D)})}}}if(p.size==a.length)break}},w.prototype.positionNodesRadially=function(a){for(var p=new v(0,0),u=Math.ceil(Math.sqrt(a.length)),T=0,f=0,O=0,A=new d(0,0),x=0;x<a.length;x++){x%u==0&&(O=0,f=T,x!=0&&(f+=h.DEFAULT_COMPONENT_SEPERATION),T=0);var I=a[x],D=G.findCenterOfTree(I);p.x=O,p.y=f,A=w.radialLayout(I,D,p),A.y>T&&(T=Math.floor(A.y)),O=Math.floor(A.x+h.DEFAULT_COMPONENT_SEPERATION)}this.transform(new d(N.WORLD_CENTER_X-A.x/2,N.WORLD_CENTER_Y-A.y/2))},w.radialLayout=function(a,p,u){var T=Math.max(this.maxDiagonalInTree(a),h.DEFAULT_RADIAL_SEPARATION);w.branchRadialLayout(p,null,0,359,0,T);var f=$.calculateBounds(a),O=new V;O.setDeviceOrgX(f.getMinX()),O.setDeviceOrgY(f.getMinY()),O.setWorldOrgX(u.x),O.setWorldOrgY(u.y);for(var A=0;A<a.length;A++){var x=a[A];x.transform(O)}var I=new d(f.getMaxX(),f.getMaxY());return O.inverseTransformPoint(I)},w.branchRadialLayout=function(a,p,u,T,f,O){var A=(T-u+1)/2;A<0&&(A+=180);var x=(A+u)%360,I=x*b.TWO_PI/360,D=Math.cos(I),z=f*Math.cos(I),j=f*Math.sin(I);a.setCenter(z,j);var R=[];R=R.concat(a.getEdges());var J=R.length;p!=null&&J--;for(var H=0,M=R.length,S,P=a.getEdgesBetween(p);P.length>1;){var q=P[0];P.splice(0,1);var st=R.indexOf(q);st>=0&&R.splice(st,1),M--,J--}p!=null?S=(R.indexOf(P[0])+1)%M:S=0;for(var mt=Math.abs(T-u)/J,xt=S;H!=J;xt=++xt%M){var Q=R[xt].getOtherEnd(a);if(Q!=p){var Ut=(u+H*mt)%360,At=(Ut+mt)%360;w.branchRadialLayout(Q,a,Ut,At,f+O,O),H++}}},w.maxDiagonalInTree=function(a){for(var p=L.MIN_VALUE,u=0;u<a.length;u++){var T=a[u],f=T.getDiagonal();f>p&&(p=f)}return p},w.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},w.prototype.groupZeroDegreeMembers=function(){var a=this,p={};this.memberGroups={},this.idToDummyNode={};for(var u=[],T=this.graphManager.getAllNodes(),f=0;f<T.length;f++){var O=T[f],A=O.getParent();this.getNodeDegreeWithChildren(O)===0&&(A.id==null||!this.getToBeTiled(A))&&u.push(O)}for(var f=0;f<u.length;f++){var O=u[f],x=O.getParent().id;typeof p[x]>"u"&&(p[x]=[]),p[x]=p[x].concat(O)}Object.keys(p).forEach(function(I){if(p[I].length>1){var D="DummyCompound_"+I;a.memberGroups[D]=p[I];var z=p[I][0].getParent(),j=new r(a.graphManager);j.id=D,j.paddingLeft=z.paddingLeft||0,j.paddingRight=z.paddingRight||0,j.paddingBottom=z.paddingBottom||0,j.paddingTop=z.paddingTop||0,a.idToDummyNode[D]=j;var R=a.getGraphManager().add(a.newGraph(),j),J=z.getChild();J.add(j);for(var H=0;H<p[I].length;H++){var M=p[I][H];J.remove(M),R.add(M)}}})},w.prototype.clearCompounds=function(){var a={},p={};this.performDFSOnCompounds();for(var u=0;u<this.compoundOrder.length;u++)p[this.compoundOrder[u].id]=this.compoundOrder[u],a[this.compoundOrder[u].id]=[].concat(this.compoundOrder[u].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[u].getChild()),this.compoundOrder[u].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(a,p)},w.prototype.clearZeroDegreeMembers=function(){var a=this,p=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(u){var T=a.idToDummyNode[u];if(p[u]=a.tileNodes(a.memberGroups[u],T.paddingLeft+T.paddingRight),T.rect.width=p[u].width,T.rect.height=p[u].height,T.setCenter(p[u].centerX,p[u].centerY),T.labelMarginLeft=0,T.labelMarginTop=0,h.NODE_DIMENSIONS_INCLUDE_LABELS){var f=T.rect.width,O=T.rect.height;T.labelWidth&&(T.labelPosHorizontal=="left"?(T.rect.x-=T.labelWidth,T.setWidth(f+T.labelWidth),T.labelMarginLeft=T.labelWidth):T.labelPosHorizontal=="center"&&T.labelWidth>f?(T.rect.x-=(T.labelWidth-f)/2,T.setWidth(T.labelWidth),T.labelMarginLeft=(T.labelWidth-f)/2):T.labelPosHorizontal=="right"&&T.setWidth(f+T.labelWidth)),T.labelHeight&&(T.labelPosVertical=="top"?(T.rect.y-=T.labelHeight,T.setHeight(O+T.labelHeight),T.labelMarginTop=T.labelHeight):T.labelPosVertical=="center"&&T.labelHeight>O?(T.rect.y-=(T.labelHeight-O)/2,T.setHeight(T.labelHeight),T.labelMarginTop=(T.labelHeight-O)/2):T.labelPosVertical=="bottom"&&T.setHeight(O+T.labelHeight))}})},w.prototype.repopulateCompounds=function(){for(var a=this.compoundOrder.length-1;a>=0;a--){var p=this.compoundOrder[a],u=p.id,T=p.paddingLeft,f=p.paddingTop,O=p.labelMarginLeft,A=p.labelMarginTop;this.adjustLocations(this.tiledMemberPack[u],p.rect.x,p.rect.y,T,f,O,A)}},w.prototype.repopulateZeroDegreeMembers=function(){var a=this,p=this.tiledZeroDegreePack;Object.keys(p).forEach(function(u){var T=a.idToDummyNode[u],f=T.paddingLeft,O=T.paddingTop,A=T.labelMarginLeft,x=T.labelMarginTop;a.adjustLocations(p[u],T.rect.x,T.rect.y,f,O,A,x)})},w.prototype.getToBeTiled=function(a){var p=a.id;if(this.toBeTiled[p]!=null)return this.toBeTiled[p];var u=a.getChild();if(u==null)return this.toBeTiled[p]=!1,!1;for(var T=u.getNodes(),f=0;f<T.length;f++){var O=T[f];if(this.getNodeDegree(O)>0)return this.toBeTiled[p]=!1,!1;if(O.getChild()==null){this.toBeTiled[O.id]=!1;continue}if(!this.getToBeTiled(O))return this.toBeTiled[p]=!1,!1}return this.toBeTiled[p]=!0,!0},w.prototype.getNodeDegree=function(a){for(var p=a.id,u=a.getEdges(),T=0,f=0;f<u.length;f++){var O=u[f];O.getSource().id!==O.getTarget().id&&(T=T+1)}return T},w.prototype.getNodeDegreeWithChildren=function(a){var p=this.getNodeDegree(a);if(a.getChild()==null)return p;for(var u=a.getChild().getNodes(),T=0;T<u.length;T++){var f=u[T];p+=this.getNodeDegreeWithChildren(f)}return p},w.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},w.prototype.fillCompexOrderByDFS=function(a){for(var p=0;p<a.length;p++){var u=a[p];u.getChild()!=null&&this.fillCompexOrderByDFS(u.getChild().getNodes()),this.getToBeTiled(u)&&this.compoundOrder.push(u)}},w.prototype.adjustLocations=function(a,p,u,T,f,O,A){p+=T+O,u+=f+A;for(var x=p,I=0;I<a.rows.length;I++){var D=a.rows[I];p=x;for(var z=0,j=0;j<D.length;j++){var R=D[j];R.rect.x=p,R.rect.y=u,p+=R.rect.width+a.horizontalPadding,R.rect.height>z&&(z=R.rect.height)}u+=z+a.verticalPadding}},w.prototype.tileCompoundMembers=function(a,p){var u=this;this.tiledMemberPack=[],Object.keys(a).forEach(function(T){var f=p[T];if(u.tiledMemberPack[T]=u.tileNodes(a[T],f.paddingLeft+f.paddingRight),f.rect.width=u.tiledMemberPack[T].width,f.rect.height=u.tiledMemberPack[T].height,f.setCenter(u.tiledMemberPack[T].centerX,u.tiledMemberPack[T].centerY),f.labelMarginLeft=0,f.labelMarginTop=0,h.NODE_DIMENSIONS_INCLUDE_LABELS){var O=f.rect.width,A=f.rect.height;f.labelWidth&&(f.labelPosHorizontal=="left"?(f.rect.x-=f.labelWidth,f.setWidth(O+f.labelWidth),f.labelMarginLeft=f.labelWidth):f.labelPosHorizontal=="center"&&f.labelWidth>O?(f.rect.x-=(f.labelWidth-O)/2,f.setWidth(f.labelWidth),f.labelMarginLeft=(f.labelWidth-O)/2):f.labelPosHorizontal=="right"&&f.setWidth(O+f.labelWidth)),f.labelHeight&&(f.labelPosVertical=="top"?(f.rect.y-=f.labelHeight,f.setHeight(A+f.labelHeight),f.labelMarginTop=f.labelHeight):f.labelPosVertical=="center"&&f.labelHeight>A?(f.rect.y-=(f.labelHeight-A)/2,f.setHeight(f.labelHeight),f.labelMarginTop=(f.labelHeight-A)/2):f.labelPosVertical=="bottom"&&f.setHeight(A+f.labelHeight))}})},w.prototype.tileNodes=function(a,p){var u=this.tileNodesByFavoringDim(a,p,!0),T=this.tileNodesByFavoringDim(a,p,!1),f=this.getOrgRatio(u),O=this.getOrgRatio(T),A;return O<f?A=T:A=u,A},w.prototype.getOrgRatio=function(a){var p=a.width,u=a.height,T=p/u;return T<1&&(T=1/T),T},w.prototype.calcIdealRowWidth=function(a,p){var u=h.TILING_PADDING_VERTICAL,T=h.TILING_PADDING_HORIZONTAL,f=a.length,O=0,A=0,x=0;a.forEach(function(H){O+=H.getWidth(),A+=H.getHeight(),H.getWidth()>x&&(x=H.getWidth())});var I=O/f,D=A/f,z=Math.pow(u-T,2)+4*(I+T)*(D+u)*f,j=(T-u+Math.sqrt(z))/(2*(I+T)),R;p?(R=Math.ceil(j),R==j&&R++):R=Math.floor(j);var J=R*(I+T)-T;return x>J&&(J=x),J+=T*2,J},w.prototype.tileNodesByFavoringDim=function(a,p,u){var T=h.TILING_PADDING_VERTICAL,f=h.TILING_PADDING_HORIZONTAL,O=h.TILING_COMPARE_BY,A={rows:[],rowWidth:[],rowHeight:[],width:0,height:p,verticalPadding:T,horizontalPadding:f,centerX:0,centerY:0};O&&(A.idealRowWidth=this.calcIdealRowWidth(a,u));var x=function(M){return M.rect.width*M.rect.height},I=function(M,S){return x(S)-x(M)};a.sort(function(H,M){var S=I;return A.idealRowWidth?(S=O,S(H.id,M.id)):S(H,M)});for(var D=0,z=0,j=0;j<a.length;j++){var R=a[j];D+=R.getCenterX(),z+=R.getCenterY()}A.centerX=D/a.length,A.centerY=z/a.length;for(var j=0;j<a.length;j++){var R=a[j];if(A.rows.length==0)this.insertNodeToRow(A,R,0,p);else if(this.canAddHorizontal(A,R.rect.width,R.rect.height)){var J=A.rows.length-1;A.idealRowWidth||(J=this.getShortestRowIndex(A)),this.insertNodeToRow(A,R,J,p)}else this.insertNodeToRow(A,R,A.rows.length,p);this.shiftToLastRow(A)}return A},w.prototype.insertNodeToRow=function(a,p,u,T){var f=T;if(u==a.rows.length){var O=[];a.rows.push(O),a.rowWidth.push(f),a.rowHeight.push(0)}var A=a.rowWidth[u]+p.rect.width;a.rows[u].length>0&&(A+=a.horizontalPadding),a.rowWidth[u]=A,a.width<A&&(a.width=A);var x=p.rect.height;u>0&&(x+=a.verticalPadding);var I=0;x>a.rowHeight[u]&&(I=a.rowHeight[u],a.rowHeight[u]=x,I=a.rowHeight[u]-I),a.height+=I,a.rows[u].push(p)},w.prototype.getShortestRowIndex=function(a){for(var p=-1,u=Number.MAX_VALUE,T=0;T<a.rows.length;T++)a.rowWidth[T]<u&&(p=T,u=a.rowWidth[T]);return p},w.prototype.getLongestRowIndex=function(a){for(var p=-1,u=Number.MIN_VALUE,T=0;T<a.rows.length;T++)a.rowWidth[T]>u&&(p=T,u=a.rowWidth[T]);return p},w.prototype.canAddHorizontal=function(a,p,u){if(a.idealRowWidth){var T=a.rows.length-1,f=a.rowWidth[T];return f+p+a.horizontalPadding<=a.idealRowWidth}var O=this.getShortestRowIndex(a);if(O<0)return!0;var A=a.rowWidth[O];if(A+a.horizontalPadding+p<=a.width)return!0;var x=0;a.rowHeight[O]<u&&O>0&&(x=u+a.verticalPadding-a.rowHeight[O]);var I;a.width-A>=p+a.horizontalPadding?I=(a.height+x)/(A+p+a.horizontalPadding):I=(a.height+x)/a.width,x=u+a.verticalPadding;var D;return a.width<p?D=(a.height+x)/p:D=(a.height+x)/a.width,D<1&&(D=1/D),I<1&&(I=1/I),I<D},w.prototype.shiftToLastRow=function(a){var p=this.getLongestRowIndex(a),u=a.rowWidth.length-1,T=a.rows[p],f=T[T.length-1],O=f.width+a.horizontalPadding;if(a.width-a.rowWidth[u]>O&&p!=u){T.splice(-1,1),a.rows[u].push(f),a.rowWidth[p]=a.rowWidth[p]-O,a.rowWidth[u]=a.rowWidth[u]+O,a.width=a.rowWidth[instance.getLongestRowIndex(a)];for(var A=Number.MIN_VALUE,x=0;x<T.length;x++)T[x].height>A&&(A=T[x].height);p>0&&(A+=a.verticalPadding);var I=a.rowHeight[p]+a.rowHeight[u];a.rowHeight[p]=A,a.rowHeight[u]<f.height+a.verticalPadding&&(a.rowHeight[u]=f.height+a.verticalPadding);var D=a.rowHeight[p]+a.rowHeight[u];a.height+=D-I,this.shiftToLastRow(a)}},w.prototype.tilingPreLayout=function(){h.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},w.prototype.tilingPostLayout=function(){h.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},w.prototype.reduceTrees=function(){for(var a=[],p=!0,u;p;){var T=this.graphManager.getAllNodes(),f=[];p=!1;for(var O=0;O<T.length;O++)if(u=T[O],u.getEdges().length==1&&!u.getEdges()[0].isInterGraph&&u.getChild()==null){if(h.PURE_INCREMENTAL){var A=u.getEdges()[0].getOtherEnd(u),x=new m(u.getCenterX()-A.getCenterX(),u.getCenterY()-A.getCenterY());f.push([u,u.getEdges()[0],u.getOwner(),x])}else f.push([u,u.getEdges()[0],u.getOwner()]);p=!0}if(p==!0){for(var I=[],D=0;D<f.length;D++)f[D][0].getEdges().length==1&&(I.push(f[D]),f[D][0].getOwner().remove(f[D][0]));a.push(I),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=a},w.prototype.growTree=function(a){for(var p=a.length,u=a[p-1],T,f=0;f<u.length;f++)T=u[f],this.findPlaceforPrunedNode(T),T[2].add(T[0]),T[2].add(T[1],T[1].source,T[1].target);a.splice(a.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},w.prototype.findPlaceforPrunedNode=function(a){var p,u,T=a[0];if(T==a[1].source?u=a[1].target:u=a[1].source,h.PURE_INCREMENTAL)T.setCenter(u.getCenterX()+a[3].getWidth(),u.getCenterY()+a[3].getHeight());else{var f=u.startX,O=u.finishX,A=u.startY,x=u.finishY,I=0,D=0,z=0,j=0,R=[I,z,D,j];if(A>0)for(var J=f;J<=O;J++)R[0]+=this.grid[J][A-1].length+this.grid[J][A].length-1;if(O<this.grid.length-1)for(var J=A;J<=x;J++)R[1]+=this.grid[O+1][J].length+this.grid[O][J].length-1;if(x<this.grid[0].length-1)for(var J=f;J<=O;J++)R[2]+=this.grid[J][x+1].length+this.grid[J][x].length-1;if(f>0)for(var J=A;J<=x;J++)R[3]+=this.grid[f-1][J].length+this.grid[f][J].length-1;for(var H=L.MAX_VALUE,M,S,P=0;P<R.length;P++)R[P]<H?(H=R[P],M=1,S=P):R[P]==H&&M++;if(M==3&&H==0)R[0]==0&&R[1]==0&&R[2]==0?p=1:R[0]==0&&R[1]==0&&R[3]==0?p=0:R[0]==0&&R[2]==0&&R[3]==0?p=3:R[1]==0&&R[2]==0&&R[3]==0&&(p=2);else if(M==2&&H==0){var q=Math.floor(Math.random()*2);R[0]==0&&R[1]==0?q==0?p=0:p=1:R[0]==0&&R[2]==0?q==0?p=0:p=2:R[0]==0&&R[3]==0?q==0?p=0:p=3:R[1]==0&&R[2]==0?q==0?p=1:p=2:R[1]==0&&R[3]==0?q==0?p=1:p=3:q==0?p=2:p=3}else if(M==4&&H==0){var q=Math.floor(Math.random()*4);p=q}else p=S;p==0?T.setCenter(u.getCenterX(),u.getCenterY()-u.getHeight()/2-s.DEFAULT_EDGE_LENGTH-T.getHeight()/2):p==1?T.setCenter(u.getCenterX()+u.getWidth()/2+s.DEFAULT_EDGE_LENGTH+T.getWidth()/2,u.getCenterY()):p==2?T.setCenter(u.getCenterX(),u.getCenterY()+u.getHeight()/2+s.DEFAULT_EDGE_LENGTH+T.getHeight()/2):T.setCenter(u.getCenterX()-u.getWidth()/2-s.DEFAULT_EDGE_LENGTH-T.getWidth()/2,u.getCenterY())}},o.exports=w}),991:((o,e,n)=>{var g=n(551).FDLayoutNode,i=n(551).IMath;function E(t,h,c,s){g.call(this,t,h,c,s)}E.prototype=Object.create(g.prototype);for(var r in g)E[r]=g[r];E.prototype.calculateDisplacement=function(){var t=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=t.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=t.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=t.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=t.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>t.coolingFactor*t.maxNodeDisplacement&&(this.displacementX=t.coolingFactor*t.maxNodeDisplacement*i.sign(this.displacementX)),Math.abs(this.displacementY)>t.coolingFactor*t.maxNodeDisplacement&&(this.displacementY=t.coolingFactor*t.maxNodeDisplacement*i.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},E.prototype.propogateDisplacementToChildren=function(t,h){for(var c=this.getChild().getNodes(),s,N=0;N<c.length;N++)s=c[N],s.getChild()==null?(s.displacementX+=t,s.displacementY+=h):s.propogateDisplacementToChildren(t,h)},E.prototype.move=function(){var t=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),t.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},E.prototype.setPred1=function(t){this.pred1=t},E.prototype.getPred1=function(){return pred1},E.prototype.getPred2=function(){return pred2},E.prototype.setNext=function(t){this.next=t},E.prototype.getNext=function(){return next},E.prototype.setProcessed=function(t){this.processed=t},E.prototype.isProcessed=function(){return processed},o.exports=E}),902:((o,e,n)=>{function g(c){if(Array.isArray(c)){for(var s=0,N=Array(c.length);s<c.length;s++)N[s]=c[s];return N}else return Array.from(c)}var i=n(806),E=n(551).LinkedList,r=n(551).Matrix,t=n(551).SVD;function h(){}h.handleConstraints=function(c){var s={};s.fixedNodeConstraint=c.constraints.fixedNodeConstraint,s.alignmentConstraint=c.constraints.alignmentConstraint,s.relativePlacementConstraint=c.constraints.relativePlacementConstraint;for(var N=new Map,v=new Map,d=[],m=[],G=c.getAllNodes(),L=0,b=0;b<G.length;b++){var $=G[b];$.getChild()==null&&(v.set($.id,L++),d.push($.getCenterX()),m.push($.getCenterY()),N.set($.id,$))}s.relativePlacementConstraint&&s.relativePlacementConstraint.forEach(function(F){!F.gap&&F.gap!=0&&(F.left?F.gap=i.DEFAULT_EDGE_LENGTH+N.get(F.left).getWidth()/2+N.get(F.right).getWidth()/2:F.gap=i.DEFAULT_EDGE_LENGTH+N.get(F.top).getHeight()/2+N.get(F.bottom).getHeight()/2)});var V=function(U,Y){return{x:U.x-Y.x,y:U.y-Y.y}},it=function(U){var Y=0,X=0;return U.forEach(function(W){Y+=d[v.get(W)],X+=m[v.get(W)]}),{x:Y/U.size,y:X/U.size}},w=function(U,Y,X,W,K){function gt(ot,et){var ct=new Set(ot),at=!0,lt=!1,Ft=void 0;try{for(var wt=et[Symbol.iterator](),Xt;!(at=(Xt=wt.next()).done);at=!0){var Dt=Xt.value;ct.add(Dt)}}catch(Nt){lt=!0,Ft=Nt}finally{try{!at&&wt.return&&wt.return()}finally{if(lt)throw Ft}}return ct}var ft=new Map;U.forEach(function(ot,et){ft.set(et,0)}),U.forEach(function(ot,et){ot.forEach(function(ct){ft.set(ct.id,ft.get(ct.id)+1)})});var Z=new Map,ht=new Map,ut=new E;ft.forEach(function(ot,et){ot==0?(ut.push(et),X||(Y=="horizontal"?Z.set(et,v.has(et)?d[v.get(et)]:W.get(et)):Z.set(et,v.has(et)?m[v.get(et)]:W.get(et)))):Z.set(et,Number.NEGATIVE_INFINITY),X&&ht.set(et,new Set([et]))}),X&&K.forEach(function(ot){var et=[];if(ot.forEach(function(lt){X.has(lt)&&et.push(lt)}),et.length>0){var ct=0;et.forEach(function(lt){Y=="horizontal"?(Z.set(lt,v.has(lt)?d[v.get(lt)]:W.get(lt)),ct+=Z.get(lt)):(Z.set(lt,v.has(lt)?m[v.get(lt)]:W.get(lt)),ct+=Z.get(lt))}),ct=ct/et.length,ot.forEach(function(lt){X.has(lt)||Z.set(lt,ct)})}else{var at=0;ot.forEach(function(lt){Y=="horizontal"?at+=v.has(lt)?d[v.get(lt)]:W.get(lt):at+=v.has(lt)?m[v.get(lt)]:W.get(lt)}),at=at/ot.length,ot.forEach(function(lt){Z.set(lt,at)})}});for(var tt=function(){var et=ut.shift(),ct=U.get(et);ct.forEach(function(at){if(Z.get(at.id)<Z.get(et)+at.gap)if(X&&X.has(at.id)){var lt=void 0;if(Y=="horizontal"?lt=v.has(at.id)?d[v.get(at.id)]:W.get(at.id):lt=v.has(at.id)?m[v.get(at.id)]:W.get(at.id),Z.set(at.id,lt),lt<Z.get(et)+at.gap){var Ft=Z.get(et)+at.gap-lt;ht.get(et).forEach(function(wt){Z.set(wt,Z.get(wt)-Ft)})}}else Z.set(at.id,Z.get(et)+at.gap);ft.set(at.id,ft.get(at.id)-1),ft.get(at.id)==0&&ut.push(at.id),X&&ht.set(at.id,gt(ht.get(et),ht.get(at.id)))})};ut.length!=0;)tt();if(X){var vt=new Set;U.forEach(function(ot,et){ot.length==0&&vt.add(et)});var Mt=[];ht.forEach(function(ot,et){if(vt.has(et)){var ct=!1,at=!0,lt=!1,Ft=void 0;try{for(var wt=ot[Symbol.iterator](),Xt;!(at=(Xt=wt.next()).done);at=!0){var Dt=Xt.value;X.has(Dt)&&(ct=!0)}}catch(Rt){lt=!0,Ft=Rt}finally{try{!at&&wt.return&&wt.return()}finally{if(lt)throw Ft}}if(!ct){var Nt=!1,zt=void 0;Mt.forEach(function(Rt,Yt){Rt.has([].concat(g(ot))[0])&&(Nt=!0,zt=Yt)}),Nt?ot.forEach(function(Rt){Mt[zt].add(Rt)}):Mt.push(new Set(ot))}}}),Mt.forEach(function(ot,et){var ct=Number.POSITIVE_INFINITY,at=Number.POSITIVE_INFINITY,lt=Number.NEGATIVE_INFINITY,Ft=Number.NEGATIVE_INFINITY,wt=!0,Xt=!1,Dt=void 0;try{for(var Nt=ot[Symbol.iterator](),zt;!(wt=(zt=Nt.next()).done);wt=!0){var Rt=zt.value,Yt=void 0;Y=="horizontal"?Yt=v.has(Rt)?d[v.get(Rt)]:W.get(Rt):Yt=v.has(Rt)?m[v.get(Rt)]:W.get(Rt);var Wt=Z.get(Rt);Yt<ct&&(ct=Yt),Yt>lt&&(lt=Yt),Wt<at&&(at=Wt),Wt>Ft&&(Ft=Wt)}}catch($t){Xt=!0,Dt=$t}finally{try{!wt&&Nt.return&&Nt.return()}finally{if(Xt)throw Dt}}var ee=(ct+lt)/2-(at+Ft)/2,Zt=!0,qt=!1,Kt=void 0;try{for(var Qt=ot[Symbol.iterator](),te;!(Zt=(te=Qt.next()).done);Zt=!0){var Jt=te.value;Z.set(Jt,Z.get(Jt)+ee)}}catch($t){qt=!0,Kt=$t}finally{try{!Zt&&Qt.return&&Qt.return()}finally{if(qt)throw Kt}}})}return Z},k=function(U){var Y=0,X=0,W=0,K=0;if(U.forEach(function(ht){ht.left?d[v.get(ht.left)]-d[v.get(ht.right)]>=0?Y++:X++:m[v.get(ht.top)]-m[v.get(ht.bottom)]>=0?W++:K++}),Y>X&&W>K)for(var gt=0;gt<v.size;gt++)d[gt]=-1*d[gt],m[gt]=-1*m[gt];else if(Y>X)for(var ft=0;ft<v.size;ft++)d[ft]=-1*d[ft];else if(W>K)for(var Z=0;Z<v.size;Z++)m[Z]=-1*m[Z]},a=function(U){var Y=[],X=new E,W=new Set,K=0;return U.forEach(function(gt,ft){if(!W.has(ft)){Y[K]=[];var Z=ft;for(X.push(Z),W.add(Z),Y[K].push(Z);X.length!=0;){Z=X.shift();var ht=U.get(Z);ht.forEach(function(ut){W.has(ut.id)||(X.push(ut.id),W.add(ut.id),Y[K].push(ut.id))})}K++}}),Y},p=function(U){var Y=new Map;return U.forEach(function(X,W){Y.set(W,[])}),U.forEach(function(X,W){X.forEach(function(K){Y.get(W).push(K),Y.get(K.id).push({id:W,gap:K.gap,direction:K.direction})})}),Y},u=function(U){var Y=new Map;return U.forEach(function(X,W){Y.set(W,[])}),U.forEach(function(X,W){X.forEach(function(K){Y.get(K.id).push({id:W,gap:K.gap,direction:K.direction})})}),Y},T=[],f=[],O=!1,A=!1,x=new Set,I=new Map,D=new Map,z=[];if(s.fixedNodeConstraint&&s.fixedNodeConstraint.forEach(function(F){x.add(F.nodeId)}),s.relativePlacementConstraint&&(s.relativePlacementConstraint.forEach(function(F){F.left?(I.has(F.left)?I.get(F.left).push({id:F.right,gap:F.gap,direction:"horizontal"}):I.set(F.left,[{id:F.right,gap:F.gap,direction:"horizontal"}]),I.has(F.right)||I.set(F.right,[])):(I.has(F.top)?I.get(F.top).push({id:F.bottom,gap:F.gap,direction:"vertical"}):I.set(F.top,[{id:F.bottom,gap:F.gap,direction:"vertical"}]),I.has(F.bottom)||I.set(F.bottom,[]))}),D=p(I),z=a(D)),i.TRANSFORM_ON_CONSTRAINT_HANDLING){if(s.fixedNodeConstraint&&s.fixedNodeConstraint.length>1)s.fixedNodeConstraint.forEach(function(F,U){T[U]=[F.position.x,F.position.y],f[U]=[d[v.get(F.nodeId)],m[v.get(F.nodeId)]]}),O=!0;else if(s.alignmentConstraint)(function(){var F=0;if(s.alignmentConstraint.vertical){for(var U=s.alignmentConstraint.vertical,Y=function(Z){var ht=new Set;U[Z].forEach(function(vt){ht.add(vt)});var ut=new Set([].concat(g(ht)).filter(function(vt){return x.has(vt)})),tt=void 0;ut.size>0?tt=d[v.get(ut.values().next().value)]:tt=it(ht).x,U[Z].forEach(function(vt){T[F]=[tt,m[v.get(vt)]],f[F]=[d[v.get(vt)],m[v.get(vt)]],F++})},X=0;X<U.length;X++)Y(X);O=!0}if(s.alignmentConstraint.horizontal){for(var W=s.alignmentConstraint.horizontal,K=function(Z){var ht=new Set;W[Z].forEach(function(vt){ht.add(vt)});var ut=new Set([].concat(g(ht)).filter(function(vt){return x.has(vt)})),tt=void 0;ut.size>0?tt=d[v.get(ut.values().next().value)]:tt=it(ht).y,W[Z].forEach(function(vt){T[F]=[d[v.get(vt)],tt],f[F]=[d[v.get(vt)],m[v.get(vt)]],F++})},gt=0;gt<W.length;gt++)K(gt);O=!0}s.relativePlacementConstraint&&(A=!0)})();else if(s.relativePlacementConstraint){for(var j=0,R=0,J=0;J<z.length;J++)z[J].length>j&&(j=z[J].length,R=J);if(j<D.size/2)k(s.relativePlacementConstraint),O=!1,A=!1;else{var H=new Map,M=new Map,S=[];z[R].forEach(function(F){I.get(F).forEach(function(U){U.direction=="horizontal"?(H.has(F)?H.get(F).push(U):H.set(F,[U]),H.has(U.id)||H.set(U.id,[]),S.push({left:F,right:U.id})):(M.has(F)?M.get(F).push(U):M.set(F,[U]),M.has(U.id)||M.set(U.id,[]),S.push({top:F,bottom:U.id}))})}),k(S),A=!1;var P=w(H,"horizontal"),q=w(M,"vertical");z[R].forEach(function(F,U){f[U]=[d[v.get(F)],m[v.get(F)]],T[U]=[],P.has(F)?T[U][0]=P.get(F):T[U][0]=d[v.get(F)],q.has(F)?T[U][1]=q.get(F):T[U][1]=m[v.get(F)]}),O=!0}}if(O){for(var st=void 0,mt=r.transpose(T),xt=r.transpose(f),Q=0;Q<mt.length;Q++)mt[Q]=r.multGamma(mt[Q]),xt[Q]=r.multGamma(xt[Q]);var Ut=r.multMat(mt,r.transpose(xt)),At=t.svd(Ut);st=r.multMat(At.V,r.transpose(At.U));for(var nt=0;nt<v.size;nt++){var _=[d[nt],m[nt]],dt=[st[0][0],st[1][0]],Et=[st[0][1],st[1][1]];d[nt]=r.dotProduct(_,dt),m[nt]=r.dotProduct(_,Et)}A&&k(s.relativePlacementConstraint)}}if(i.ENFORCE_CONSTRAINTS){if(s.fixedNodeConstraint&&s.fixedNodeConstraint.length>0){var Lt={x:0,y:0};s.fixedNodeConstraint.forEach(function(F,U){var Y={x:d[v.get(F.nodeId)],y:m[v.get(F.nodeId)]},X=F.position,W=V(X,Y);Lt.x+=W.x,Lt.y+=W.y}),Lt.x/=s.fixedNodeConstraint.length,Lt.y/=s.fixedNodeConstraint.length,d.forEach(function(F,U){d[U]+=Lt.x}),m.forEach(function(F,U){m[U]+=Lt.y}),s.fixedNodeConstraint.forEach(function(F){d[v.get(F.nodeId)]=F.position.x,m[v.get(F.nodeId)]=F.position.y})}if(s.alignmentConstraint){if(s.alignmentConstraint.vertical)for(var yt=s.alignmentConstraint.vertical,Tt=function(U){var Y=new Set;yt[U].forEach(function(K){Y.add(K)});var X=new Set([].concat(g(Y)).filter(function(K){return x.has(K)})),W=void 0;X.size>0?W=d[v.get(X.values().next().value)]:W=it(Y).x,Y.forEach(function(K){x.has(K)||(d[v.get(K)]=W)})},Ot=0;Ot<yt.length;Ot++)Tt(Ot);if(s.alignmentConstraint.horizontal)for(var It=s.alignmentConstraint.horizontal,Ht=function(U){var Y=new Set;It[U].forEach(function(K){Y.add(K)});var X=new Set([].concat(g(Y)).filter(function(K){return x.has(K)})),W=void 0;X.size>0?W=m[v.get(X.values().next().value)]:W=it(Y).y,Y.forEach(function(K){x.has(K)||(m[v.get(K)]=W)})},Gt=0;Gt<It.length;Gt++)Ht(Gt)}s.relativePlacementConstraint&&(function(){var F=new Map,U=new Map,Y=new Map,X=new Map,W=new Map,K=new Map,gt=new Set,ft=new Set;if(x.forEach(function(Pt){gt.add(Pt),ft.add(Pt)}),s.alignmentConstraint){if(s.alignmentConstraint.vertical)for(var Z=s.alignmentConstraint.vertical,ht=function(pt){Y.set("dummy"+pt,[]),Z[pt].forEach(function(Ct){F.set(Ct,"dummy"+pt),Y.get("dummy"+pt).push(Ct),x.has(Ct)&&gt.add("dummy"+pt)}),W.set("dummy"+pt,d[v.get(Z[pt][0])])},ut=0;ut<Z.length;ut++)ht(ut);if(s.alignmentConstraint.horizontal)for(var tt=s.alignmentConstraint.horizontal,vt=function(pt){X.set("dummy"+pt,[]),tt[pt].forEach(function(Ct){U.set(Ct,"dummy"+pt),X.get("dummy"+pt).push(Ct),x.has(Ct)&&ft.add("dummy"+pt)}),K.set("dummy"+pt,m[v.get(tt[pt][0])])},Mt=0;Mt<tt.length;Mt++)vt(Mt)}var ot=new Map,et=new Map,ct=function(pt){I.get(pt).forEach(function(Ct){var Bt=void 0,Vt=void 0;Ct.direction=="horizontal"?(Bt=F.get(pt)?F.get(pt):pt,F.get(Ct.id)?Vt={id:F.get(Ct.id),gap:Ct.gap,direction:Ct.direction}:Vt=Ct,ot.has(Bt)?ot.get(Bt).push(Vt):ot.set(Bt,[Vt]),ot.has(Vt.id)||ot.set(Vt.id,[])):(Bt=U.get(pt)?U.get(pt):pt,U.get(Ct.id)?Vt={id:U.get(Ct.id),gap:Ct.gap,direction:Ct.direction}:Vt=Ct,et.has(Bt)?et.get(Bt).push(Vt):et.set(Bt,[Vt]),et.has(Vt.id)||et.set(Vt.id,[]))})},at=!0,lt=!1,Ft=void 0;try{for(var wt=I.keys()[Symbol.iterator](),Xt;!(at=(Xt=wt.next()).done);at=!0){var Dt=Xt.value;ct(Dt)}}catch(Pt){lt=!0,Ft=Pt}finally{try{!at&&wt.return&&wt.return()}finally{if(lt)throw Ft}}var Nt=p(ot),zt=p(et),Rt=a(Nt),Yt=a(zt),Wt=u(ot),ee=u(et),Zt=[],qt=[];Rt.forEach(function(Pt,pt){Zt[pt]=[],Pt.forEach(function(Ct){Wt.get(Ct).length==0&&Zt[pt].push(Ct)})}),Yt.forEach(function(Pt,pt){qt[pt]=[],Pt.forEach(function(Ct){ee.get(Ct).length==0&&qt[pt].push(Ct)})});var Kt=w(ot,"horizontal",gt,W,Zt),Qt=w(et,"vertical",ft,K,qt),te=function(pt){Y.get(pt)?Y.get(pt).forEach(function(Ct){d[v.get(Ct)]=Kt.get(pt)}):d[v.get(pt)]=Kt.get(pt)},Jt=!0,$t=!1,ce=void 0;try{for(var re=Kt.keys()[Symbol.iterator](),ve;!(Jt=(ve=re.next()).done);Jt=!0){var ie=ve.value;te(ie)}}catch(Pt){$t=!0,ce=Pt}finally{try{!Jt&&re.return&&re.return()}finally{if($t)throw ce}}var Ne=function(pt){X.get(pt)?X.get(pt).forEach(function(Ct){m[v.get(Ct)]=Qt.get(pt)}):m[v.get(pt)]=Qt.get(pt)},ae=!0,de=!1,pe=void 0;try{for(var ne=Qt.keys()[Symbol.iterator](),Ee;!(ae=(Ee=ne.next()).done);ae=!0){var ie=Ee.value;Ne(ie)}}catch(Pt){de=!0,pe=Pt}finally{try{!ae&&ne.return&&ne.return()}finally{if(de)throw pe}}})()}for(var bt=0;bt<G.length;bt++){var St=G[bt];St.getChild()==null&&St.setCenter(d[v.get(St.id)],m[v.get(St.id)])}},o.exports=h}),551:(o=>{o.exports=B})},C={};function y(o){var e=C[o];if(e!==void 0)return e.exports;var n=C[o]={exports:{}};return rt[o](n,n.exports,y),n.exports}var l=y(45);return l})()})});var Te=oe((_t,ue)=>{(function(rt,C){typeof _t=="object"&&typeof ue=="object"?ue.exports=C(fe()):typeof define=="function"&&define.amd?define(["cose-base"],C):typeof _t=="object"?_t.cytoscapeFcose=C(fe()):rt.cytoscapeFcose=C(rt.coseBase)})(_t,function(B){return(()=>{"use strict";var rt={658:(o=>{o.exports=Object.assign!=null?Object.assign.bind(Object):function(e){for(var n=arguments.length,g=Array(n>1?n-1:0),i=1;i<n;i++)g[i-1]=arguments[i];return g.forEach(function(E){Object.keys(E).forEach(function(r){return e[r]=E[r]})}),e}}),548:((o,e,n)=>{var g=(function(){function r(t,h){var c=[],s=!0,N=!1,v=void 0;try{for(var d=t[Symbol.iterator](),m;!(s=(m=d.next()).done)&&(c.push(m.value),!(h&&c.length===h));s=!0);}catch(G){N=!0,v=G}finally{try{!s&&d.return&&d.return()}finally{if(N)throw v}}return c}return function(t,h){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,h);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),i=n(140).layoutBase.LinkedList,E={};E.getTopMostNodes=function(r){for(var t={},h=0;h<r.length;h++)t[r[h].id()]=!0;var c=r.filter(function(s,N){typeof s=="number"&&(s=N);for(var v=s.parent()[0];v!=null;){if(t[v.id()])return!1;v=v.parent()[0]}return!0});return c},E.connectComponents=function(r,t,h,c){var s=new i,N=new Set,v=[],d=void 0,m=void 0,G=void 0,L=!1,b=1,$=[],V=[],it=function(){var k=r.collection();V.push(k);var a=h[0],p=r.collection();p.merge(a).merge(a.descendants().intersection(t)),v.push(a),p.forEach(function(f){s.push(f),N.add(f),k.merge(f)});for(var u=function(){a=s.shift();var O=r.collection();a.neighborhood().nodes().forEach(function(D){t.intersection(a.edgesWith(D)).length>0&&O.merge(D)});for(var A=0;A<O.length;A++){var x=O[A];if(d=h.intersection(x.union(x.ancestors())),d!=null&&!N.has(d[0])){var I=d.union(d.descendants());I.forEach(function(D){s.push(D),N.add(D),k.merge(D),h.has(D)&&v.push(D)})}}};s.length!=0;)u();if(k.forEach(function(f){t.intersection(f.connectedEdges()).forEach(function(O){k.has(O.source())&&k.has(O.target())&&k.merge(O)})}),v.length==h.length&&(L=!0),!L||L&&b>1){m=v[0],G=m.connectedEdges().length,v.forEach(function(f){f.connectedEdges().length<G&&(G=f.connectedEdges().length,m=f)}),$.push(m.id());var T=r.collection();T.merge(v[0]),v.forEach(function(f){T.merge(f)}),v=[],h=h.difference(T),b++}};do it();while(!L);return c&&$.length>0&&c.set("dummy"+(c.size+1),$),V},E.relocateComponent=function(r,t,h){if(!h.fixedNodeConstraint){var c=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,N=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY;if(h.quality=="draft"){var d=!0,m=!1,G=void 0;try{for(var L=t.nodeIndexes[Symbol.iterator](),b;!(d=(b=L.next()).done);d=!0){var $=b.value,V=g($,2),it=V[0],w=V[1],k=h.cy.getElementById(it);if(k){var a=k.boundingBox(),p=t.xCoords[w]-a.w/2,u=t.xCoords[w]+a.w/2,T=t.yCoords[w]-a.h/2,f=t.yCoords[w]+a.h/2;p<c&&(c=p),u>s&&(s=u),T<N&&(N=T),f>v&&(v=f)}}}catch(D){m=!0,G=D}finally{try{!d&&L.return&&L.return()}finally{if(m)throw G}}var O=r.x-(s+c)/2,A=r.y-(v+N)/2;t.xCoords=t.xCoords.map(function(D){return D+O}),t.yCoords=t.yCoords.map(function(D){return D+A})}else{Object.keys(t).forEach(function(D){var z=t[D],j=z.getRect().x,R=z.getRect().x+z.getRect().width,J=z.getRect().y,H=z.getRect().y+z.getRect().height;j<c&&(c=j),R>s&&(s=R),J<N&&(N=J),H>v&&(v=H)});var x=r.x-(s+c)/2,I=r.y-(v+N)/2;Object.keys(t).forEach(function(D){var z=t[D];z.setCenter(z.getCenterX()+x,z.getCenterY()+I)})}}},E.calcBoundingBox=function(r,t,h,c){for(var s=Number.MAX_SAFE_INTEGER,N=Number.MIN_SAFE_INTEGER,v=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER,m=void 0,G=void 0,L=void 0,b=void 0,$=r.descendants().not(":parent"),V=$.length,it=0;it<V;it++){var w=$[it];m=t[c.get(w.id())]-w.width()/2,G=t[c.get(w.id())]+w.width()/2,L=h[c.get(w.id())]-w.height()/2,b=h[c.get(w.id())]+w.height()/2,s>m&&(s=m),N<G&&(N=G),v>L&&(v=L),d<b&&(d=b)}var k={};return k.topLeftX=s,k.topLeftY=v,k.width=N-s,k.height=d-v,k},E.calcParentsWithoutChildren=function(r,t){var h=r.collection();return t.nodes(":parent").forEach(function(c){var s=!1;c.children().forEach(function(N){N.css("display")!="none"&&(s=!0)}),s||h.merge(c)}),h},o.exports=E}),816:((o,e,n)=>{var g=n(548),i=n(140).CoSELayout,E=n(140).CoSENode,r=n(140).layoutBase.PointD,t=n(140).layoutBase.DimensionD,h=n(140).layoutBase.LayoutConstants,c=n(140).layoutBase.FDLayoutConstants,s=n(140).CoSEConstants,N=function(d,m){var G=d.cy,L=d.eles,b=L.nodes(),$=L.edges(),V=void 0,it=void 0,w=void 0,k={};d.randomize&&(V=m.nodeIndexes,it=m.xCoords,w=m.yCoords);var a=function(D){return typeof D=="function"},p=function(D,z){return a(D)?D(z):D},u=g.calcParentsWithoutChildren(G,L),T=function I(D,z,j,R){for(var J=z.length,H=0;H<J;H++){var M=z[H],S=null;M.intersection(u).length==0&&(S=M.children());var P=void 0,q=M.layoutDimensions({nodeDimensionsIncludeLabels:R.nodeDimensionsIncludeLabels});if(M.outerWidth()!=null&&M.outerHeight()!=null)if(R.randomize)if(!M.isParent())P=D.add(new E(j.graphManager,new r(it[V.get(M.id())]-q.w/2,w[V.get(M.id())]-q.h/2),new t(parseFloat(q.w),parseFloat(q.h))));else{var st=g.calcBoundingBox(M,it,w,V);M.intersection(u).length==0?P=D.add(new E(j.graphManager,new r(st.topLeftX,st.topLeftY),new t(st.width,st.height))):P=D.add(new E(j.graphManager,new r(st.topLeftX,st.topLeftY),new t(parseFloat(q.w),parseFloat(q.h))))}else P=D.add(new E(j.graphManager,new r(M.position("x")-q.w/2,M.position("y")-q.h/2),new t(parseFloat(q.w),parseFloat(q.h))));else P=D.add(new E(this.graphManager));if(P.id=M.data("id"),P.nodeRepulsion=p(R.nodeRepulsion,M),P.paddingLeft=parseInt(M.css("padding")),P.paddingTop=parseInt(M.css("padding")),P.paddingRight=parseInt(M.css("padding")),P.paddingBottom=parseInt(M.css("padding")),R.nodeDimensionsIncludeLabels&&(P.labelWidth=M.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,P.labelHeight=M.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,P.labelPosVertical=M.css("text-valign"),P.labelPosHorizontal=M.css("text-halign")),k[M.data("id")]=P,isNaN(P.rect.x)&&(P.rect.x=0),isNaN(P.rect.y)&&(P.rect.y=0),S!=null&&S.length>0){var mt=void 0;mt=j.getGraphManager().add(j.newGraph(),P),I(mt,S,j,R)}}},f=function(D,z,j){for(var R=0,J=0,H=0;H<j.length;H++){var M=j[H],S=k[M.data("source")],P=k[M.data("target")];if(S&&P&&S!==P&&S.getEdgesBetween(P).length==0){var q=z.add(D.newEdge(),S,P);q.id=M.id(),q.idealLength=p(d.idealEdgeLength,M),q.edgeElasticity=p(d.edgeElasticity,M),R+=q.idealLength,J++}}d.idealEdgeLength!=null&&(J>0?s.DEFAULT_EDGE_LENGTH=c.DEFAULT_EDGE_LENGTH=R/J:a(d.idealEdgeLength)?s.DEFAULT_EDGE_LENGTH=c.DEFAULT_EDGE_LENGTH=50:s.DEFAULT_EDGE_LENGTH=c.DEFAULT_EDGE_LENGTH=d.idealEdgeLength,s.MIN_REPULSION_DIST=c.MIN_REPULSION_DIST=c.DEFAULT_EDGE_LENGTH/10,s.DEFAULT_RADIAL_SEPARATION=c.DEFAULT_EDGE_LENGTH)},O=function(D,z){z.fixedNodeConstraint&&(D.constraints.fixedNodeConstraint=z.fixedNodeConstraint),z.alignmentConstraint&&(D.constraints.alignmentConstraint=z.alignmentConstraint),z.relativePlacementConstraint&&(D.constraints.relativePlacementConstraint=z.relativePlacementConstraint)};d.nestingFactor!=null&&(s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=c.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=d.nestingFactor),d.gravity!=null&&(s.DEFAULT_GRAVITY_STRENGTH=c.DEFAULT_GRAVITY_STRENGTH=d.gravity),d.numIter!=null&&(s.MAX_ITERATIONS=c.MAX_ITERATIONS=d.numIter),d.gravityRange!=null&&(s.DEFAULT_GRAVITY_RANGE_FACTOR=c.DEFAULT_GRAVITY_RANGE_FACTOR=d.gravityRange),d.gravityCompound!=null&&(s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=c.DEFAULT_COMPOUND_GRAVITY_STRENGTH=d.gravityCompound),d.gravityRangeCompound!=null&&(s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=c.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=d.gravityRangeCompound),d.initialEnergyOnIncremental!=null&&(s.DEFAULT_COOLING_FACTOR_INCREMENTAL=c.DEFAULT_COOLING_FACTOR_INCREMENTAL=d.initialEnergyOnIncremental),d.tilingCompareBy!=null&&(s.TILING_COMPARE_BY=d.tilingCompareBy),d.quality=="proof"?h.QUALITY=2:h.QUALITY=0,s.NODE_DIMENSIONS_INCLUDE_LABELS=c.NODE_DIMENSIONS_INCLUDE_LABELS=h.NODE_DIMENSIONS_INCLUDE_LABELS=d.nodeDimensionsIncludeLabels,s.DEFAULT_INCREMENTAL=c.DEFAULT_INCREMENTAL=h.DEFAULT_INCREMENTAL=!d.randomize,s.ANIMATE=c.ANIMATE=h.ANIMATE=d.animate,s.TILE=d.tile,s.TILING_PADDING_VERTICAL=typeof d.tilingPaddingVertical=="function"?d.tilingPaddingVertical.call():d.tilingPaddingVertical,s.TILING_PADDING_HORIZONTAL=typeof d.tilingPaddingHorizontal=="function"?d.tilingPaddingHorizontal.call():d.tilingPaddingHorizontal,s.DEFAULT_INCREMENTAL=c.DEFAULT_INCREMENTAL=h.DEFAULT_INCREMENTAL=!0,s.PURE_INCREMENTAL=!d.randomize,h.DEFAULT_UNIFORM_LEAF_NODE_SIZES=d.uniformNodeDimensions,d.step=="transformed"&&(s.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,s.ENFORCE_CONSTRAINTS=!1,s.APPLY_LAYOUT=!1),d.step=="enforced"&&(s.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,s.ENFORCE_CONSTRAINTS=!0,s.APPLY_LAYOUT=!1),d.step=="cose"&&(s.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,s.ENFORCE_CONSTRAINTS=!1,s.APPLY_LAYOUT=!0),d.step=="all"&&(d.randomize?s.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:s.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,s.ENFORCE_CONSTRAINTS=!0,s.APPLY_LAYOUT=!0),d.fixedNodeConstraint||d.alignmentConstraint||d.relativePlacementConstraint?s.TREE_REDUCTION_ON_INCREMENTAL=!1:s.TREE_REDUCTION_ON_INCREMENTAL=!0;var A=new i,x=A.newGraphManager();return T(x.addRoot(),g.getTopMostNodes(b),A,d),f(A,x,$),O(A,d),A.runLayout(),k};o.exports={coseLayout:N}}),212:((o,e,n)=>{var g=(function(){function d(m,G){for(var L=0;L<G.length;L++){var b=G[L];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,G,L){return G&&d(m.prototype,G),L&&d(m,L),m}})();function i(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}var E=n(658),r=n(548),t=n(657),h=t.spectralLayout,c=n(816),s=c.coseLayout,N=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(m){return 4500},idealEdgeLength:function(m){return 50},edgeElasticity:function(m){return .45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),v=(function(){function d(m){i(this,d),this.options=E({},N,m)}return g(d,[{key:"run",value:function(){var G=this,L=this.options,b=L.cy,$=L.eles,V=[],it=void 0,w=void 0,k=[],a=void 0,p=[];L.fixedNodeConstraint&&(!Array.isArray(L.fixedNodeConstraint)||L.fixedNodeConstraint.length==0)&&(L.fixedNodeConstraint=void 0),L.alignmentConstraint&&(L.alignmentConstraint.vertical&&(!Array.isArray(L.alignmentConstraint.vertical)||L.alignmentConstraint.vertical.length==0)&&(L.alignmentConstraint.vertical=void 0),L.alignmentConstraint.horizontal&&(!Array.isArray(L.alignmentConstraint.horizontal)||L.alignmentConstraint.horizontal.length==0)&&(L.alignmentConstraint.horizontal=void 0)),L.relativePlacementConstraint&&(!Array.isArray(L.relativePlacementConstraint)||L.relativePlacementConstraint.length==0)&&(L.relativePlacementConstraint=void 0);var u=L.fixedNodeConstraint||L.alignmentConstraint||L.relativePlacementConstraint;u&&(L.tile=!1,L.packComponents=!1);var T=void 0,f=!1;if(b.layoutUtilities&&L.packComponents&&(T=b.layoutUtilities("get"),T||(T=b.layoutUtilities()),f=!0),$.nodes().length>0)if(f){var x=r.getTopMostNodes(L.eles.nodes());if(a=r.connectComponents(b,L.eles,x),a.forEach(function(nt){var _=nt.boundingBox();p.push({x:_.x1+_.w/2,y:_.y1+_.h/2})}),L.randomize&&a.forEach(function(nt){L.eles=nt,V.push(h(L))}),L.quality=="default"||L.quality=="proof"){var I=b.collection();if(L.tile){var D=new Map,z=[],j=[],R=0,J={nodeIndexes:D,xCoords:z,yCoords:j},H=[];if(a.forEach(function(nt,_){nt.edges().length==0&&(nt.nodes().forEach(function(dt,Et){I.merge(nt.nodes()[Et]),dt.isParent()||(J.nodeIndexes.set(nt.nodes()[Et].id(),R++),J.xCoords.push(nt.nodes()[0].position().x),J.yCoords.push(nt.nodes()[0].position().y))}),H.push(_))}),I.length>1){var M=I.boundingBox();p.push({x:M.x1+M.w/2,y:M.y1+M.h/2}),a.push(I),V.push(J);for(var S=H.length-1;S>=0;S--)a.splice(H[S],1),V.splice(H[S],1),p.splice(H[S],1)}}a.forEach(function(nt,_){L.eles=nt,k.push(s(L,V[_])),r.relocateComponent(p[_],k[_],L)})}else a.forEach(function(nt,_){r.relocateComponent(p[_],V[_],L)});var P=new Set;if(a.length>1){var q=[],st=$.filter(function(nt){return nt.css("display")=="none"});a.forEach(function(nt,_){var dt=void 0;if(L.quality=="draft"&&(dt=V[_].nodeIndexes),nt.nodes().not(st).length>0){var Et={};Et.edges=[],Et.nodes=[];var Lt=void 0;nt.nodes().not(st).forEach(function(yt){if(L.quality=="draft")if(!yt.isParent())Lt=dt.get(yt.id()),Et.nodes.push({x:V[_].xCoords[Lt]-yt.boundingbox().w/2,y:V[_].yCoords[Lt]-yt.boundingbox().h/2,width:yt.boundingbox().w,height:yt.boundingbox().h});else{var Tt=r.calcBoundingBox(yt,V[_].xCoords,V[_].yCoords,dt);Et.nodes.push({x:Tt.topLeftX,y:Tt.topLeftY,width:Tt.width,height:Tt.height})}else k[_][yt.id()]&&Et.nodes.push({x:k[_][yt.id()].getLeft(),y:k[_][yt.id()].getTop(),width:k[_][yt.id()].getWidth(),height:k[_][yt.id()].getHeight()})}),nt.edges().forEach(function(yt){var Tt=yt.source(),Ot=yt.target();if(Tt.css("display")!="none"&&Ot.css("display")!="none")if(L.quality=="draft"){var It=dt.get(Tt.id()),Ht=dt.get(Ot.id()),Gt=[],bt=[];if(Tt.isParent()){var St=r.calcBoundingBox(Tt,V[_].xCoords,V[_].yCoords,dt);Gt.push(St.topLeftX+St.width/2),Gt.push(St.topLeftY+St.height/2)}else Gt.push(V[_].xCoords[It]),Gt.push(V[_].yCoords[It]);if(Ot.isParent()){var F=r.calcBoundingBox(Ot,V[_].xCoords,V[_].yCoords,dt);bt.push(F.topLeftX+F.width/2),bt.push(F.topLeftY+F.height/2)}else bt.push(V[_].xCoords[Ht]),bt.push(V[_].yCoords[Ht]);Et.edges.push({startX:Gt[0],startY:Gt[1],endX:bt[0],endY:bt[1]})}else k[_][Tt.id()]&&k[_][Ot.id()]&&Et.edges.push({startX:k[_][Tt.id()].getCenterX(),startY:k[_][Tt.id()].getCenterY(),endX:k[_][Ot.id()].getCenterX(),endY:k[_][Ot.id()].getCenterY()})}),Et.nodes.length>0&&(q.push(Et),P.add(_))}});var mt=T.packComponents(q,L.randomize).shifts;if(L.quality=="draft")V.forEach(function(nt,_){var dt=nt.xCoords.map(function(Lt){return Lt+mt[_].dx}),Et=nt.yCoords.map(function(Lt){return Lt+mt[_].dy});nt.xCoords=dt,nt.yCoords=Et});else{var xt=0;P.forEach(function(nt){Object.keys(k[nt]).forEach(function(_){var dt=k[nt][_];dt.setCenter(dt.getCenterX()+mt[xt].dx,dt.getCenterY()+mt[xt].dy)}),xt++})}}}else{var O=L.eles.boundingBox();if(p.push({x:O.x1+O.w/2,y:O.y1+O.h/2}),L.randomize){var A=h(L);V.push(A)}L.quality=="default"||L.quality=="proof"?(k.push(s(L,V[0])),r.relocateComponent(p[0],k[0],L)):r.relocateComponent(p[0],V[0],L)}var Q=function(_,dt){if(L.quality=="default"||L.quality=="proof"){typeof _=="number"&&(_=dt);var Et=void 0,Lt=void 0,yt=_.data("id");return k.forEach(function(Ot){yt in Ot&&(Et={x:Ot[yt].getRect().getCenterX(),y:Ot[yt].getRect().getCenterY()},Lt=Ot[yt])}),L.nodeDimensionsIncludeLabels&&(Lt.labelWidth&&(Lt.labelPosHorizontal=="left"?Et.x+=Lt.labelWidth/2:Lt.labelPosHorizontal=="right"&&(Et.x-=Lt.labelWidth/2)),Lt.labelHeight&&(Lt.labelPosVertical=="top"?Et.y+=Lt.labelHeight/2:Lt.labelPosVertical=="bottom"&&(Et.y-=Lt.labelHeight/2))),Et==null&&(Et={x:_.position("x"),y:_.position("y")}),{x:Et.x,y:Et.y}}else{var Tt=void 0;return V.forEach(function(Ot){var It=Ot.nodeIndexes.get(_.id());It!=null&&(Tt={x:Ot.xCoords[It],y:Ot.yCoords[It]})}),Tt==null&&(Tt={x:_.position("x"),y:_.position("y")}),{x:Tt.x,y:Tt.y}}};if(L.quality=="default"||L.quality=="proof"||L.randomize){var Ut=r.calcParentsWithoutChildren(b,$),At=$.filter(function(nt){return nt.css("display")=="none"});L.eles=$.not(At),$.nodes().not(":parent").not(At).layoutPositions(G,L,Q),Ut.length>0&&Ut.forEach(function(nt){nt.position(Q(nt))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),d})();o.exports=v}),657:((o,e,n)=>{var g=n(548),i=n(140).layoutBase.Matrix,E=n(140).layoutBase.SVD,r=function(h){var c=h.cy,s=h.eles,N=s.nodes(),v=s.nodes(":parent"),d=new Map,m=new Map,G=new Map,L=[],b=[],$=[],V=[],it=[],w=[],k=[],a=[],p=void 0,u=void 0,T=1e8,f=1e-9,O=h.piTol,A=h.samplingType,x=h.nodeSeparation,I=void 0,D=function(){for(var Y=0,X=0,W=!1;X<I;){Y=Math.floor(Math.random()*u),W=!1;for(var K=0;K<X;K++)if(V[K]==Y){W=!0;break}if(!W)V[X]=Y,X++;else continue}},z=function(Y,X,W){for(var K=[],gt=0,ft=0,Z=0,ht=void 0,ut=[],tt=0,vt=1,Mt=0;Mt<u;Mt++)ut[Mt]=T;for(K[ft]=Y,ut[Y]=0;ft>=gt;){Z=K[gt++];for(var ot=L[Z],et=0;et<ot.length;et++)ht=m.get(ot[et]),ut[ht]==T&&(ut[ht]=ut[Z]+1,K[++ft]=ht);w[Z][X]=ut[Z]*x}if(W){for(var ct=0;ct<u;ct++)w[ct][X]<it[ct]&&(it[ct]=w[ct][X]);for(var at=0;at<u;at++)it[at]>tt&&(tt=it[at],vt=at)}return vt},j=function(Y){var X=void 0;if(Y){X=Math.floor(Math.random()*u),p=X;for(var K=0;K<u;K++)it[K]=T;for(var gt=0;gt<I;gt++)V[gt]=X,X=z(X,gt,Y)}else{D();for(var W=0;W<I;W++)z(V[W],W,Y,!1)}for(var ft=0;ft<u;ft++)for(var Z=0;Z<I;Z++)w[ft][Z]*=w[ft][Z];for(var ht=0;ht<I;ht++)k[ht]=[];for(var ut=0;ut<I;ut++)for(var tt=0;tt<I;tt++)k[ut][tt]=w[V[tt]][ut]},R=function(){for(var Y=E.svd(k),X=Y.S,W=Y.U,K=Y.V,gt=X[0]*X[0]*X[0],ft=[],Z=0;Z<I;Z++){ft[Z]=[];for(var ht=0;ht<I;ht++)ft[Z][ht]=0,Z==ht&&(ft[Z][ht]=X[Z]/(X[Z]*X[Z]+gt/(X[Z]*X[Z])))}a=i.multMat(i.multMat(K,ft),i.transpose(W))},J=function(){for(var Y=void 0,X=void 0,W=[],K=[],gt=[],ft=[],Z=0;Z<u;Z++)W[Z]=Math.random(),K[Z]=Math.random();W=i.normalize(W),K=i.normalize(K);for(var ht=0,ut=f,tt=f,vt=void 0;;){ht++;for(var Mt=0;Mt<u;Mt++)gt[Mt]=W[Mt];if(W=i.multGamma(i.multL(i.multGamma(gt),w,a)),Y=i.dotProduct(gt,W),W=i.normalize(W),ut=i.dotProduct(gt,W),vt=Math.abs(ut/tt),vt<=1+O&&vt>=1)break;tt=ut}for(var ot=0;ot<u;ot++)gt[ot]=W[ot];for(ht=0,tt=f;;){ht++;for(var et=0;et<u;et++)ft[et]=K[et];if(ft=i.minusOp(ft,i.multCons(gt,i.dotProduct(gt,ft))),K=i.multGamma(i.multL(i.multGamma(ft),w,a)),X=i.dotProduct(ft,K),K=i.normalize(K),ut=i.dotProduct(ft,K),vt=Math.abs(ut/tt),vt<=1+O&&vt>=1)break;tt=ut}for(var ct=0;ct<u;ct++)ft[ct]=K[ct];b=i.multCons(gt,Math.sqrt(Math.abs(Y))),$=i.multCons(ft,Math.sqrt(Math.abs(X)))};g.connectComponents(c,s,g.getTopMostNodes(N),d),v.forEach(function(U){g.connectComponents(c,s,g.getTopMostNodes(U.descendants().intersection(s)),d)});for(var H=0,M=0;M<N.length;M++)N[M].isParent()||m.set(N[M].id(),H++);var S=!0,P=!1,q=void 0;try{for(var st=d.keys()[Symbol.iterator](),mt;!(S=(mt=st.next()).done);S=!0){var xt=mt.value;m.set(xt,H++)}}catch(U){P=!0,q=U}finally{try{!S&&st.return&&st.return()}finally{if(P)throw q}}for(var Q=0;Q<m.size;Q++)L[Q]=[];v.forEach(function(U){for(var Y=U.children().intersection(s);Y.nodes(":childless").length==0;)Y=Y.nodes()[0].children().intersection(s);var X=0,W=Y.nodes(":childless")[0].connectedEdges().length;Y.nodes(":childless").forEach(function(K,gt){K.connectedEdges().length<W&&(W=K.connectedEdges().length,X=gt)}),G.set(U.id(),Y.nodes(":childless")[X].id())}),N.forEach(function(U){var Y=void 0;U.isParent()?Y=m.get(G.get(U.id())):Y=m.get(U.id()),U.neighborhood().nodes().forEach(function(X){s.intersection(U.edgesWith(X)).length>0&&(X.isParent()?L[Y].push(G.get(X.id())):L[Y].push(X.id()))})});var Ut=function(Y){var X=m.get(Y),W=void 0;d.get(Y).forEach(function(K){c.getElementById(K).isParent()?W=G.get(K):W=K,L[X].push(W),L[m.get(W)].push(Y)})},At=!0,nt=!1,_=void 0;try{for(var dt=d.keys()[Symbol.iterator](),Et;!(At=(Et=dt.next()).done);At=!0){var Lt=Et.value;Ut(Lt)}}catch(U){nt=!0,_=U}finally{try{!At&&dt.return&&dt.return()}finally{if(nt)throw _}}u=m.size;var yt=void 0;if(u>2){I=u<h.sampleSize?u:h.sampleSize;for(var Tt=0;Tt<u;Tt++)w[Tt]=[];for(var Ot=0;Ot<I;Ot++)a[Ot]=[];return h.quality=="draft"||h.step=="all"?(j(A),R(),J(),yt={nodeIndexes:m,xCoords:b,yCoords:$}):(m.forEach(function(U,Y){b.push(c.getElementById(Y).position("x")),$.push(c.getElementById(Y).position("y"))}),yt={nodeIndexes:m,xCoords:b,yCoords:$}),yt}else{var It=m.keys(),Ht=c.getElementById(It.next().value),Gt=Ht.position(),bt=Ht.outerWidth();if(b.push(Gt.x),$.push(Gt.y),u==2){var St=c.getElementById(It.next().value),F=St.outerWidth();b.push(Gt.x+bt/2+F/2+h.idealEdgeLength),$.push(Gt.y)}return yt={nodeIndexes:m,xCoords:b,yCoords:$},yt}};o.exports={spectralLayout:r}}),579:((o,e,n)=>{var g=n(212),i=function(r){r&&r("layout","fcose",g)};typeof cytoscape<"u"&&i(cytoscape),o.exports=i}),140:(o=>{o.exports=B})},C={};function y(o){var e=C[o];if(e!==void 0)return e.exports;var n=C[o]={exports:{}};return rt[o](n,n.exports,y),n.exports}var l=y(579);return l})()})});var ge=De(Te()),Ie=ge.default??ge;export{Ie as default};
//# sourceMappingURL=cytoscape-fcose.bundle.mjs.map